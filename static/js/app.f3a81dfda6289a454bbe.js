(()=>{"use strict";var e,t={3562:(e,t,n)=>{var r=n(2784),a=n(8316),o=n(4425);var i=function(e){return r.createElement("div",{className:"BTHdPa9vWKfDLQzn4XBN"},r.createElement("div",{className:"nESJgbxz7VWrbkq8ADKL"},e.children))},s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=n(2779),c=n.n(l);var u=function(e){return r.createElement("div",{className:c()("z9qO7Rz9iHz4ZIURSV16",e.className)},r.createElement("div",{className:"Yo0bhG9_TbxiCDQEQ1e7"},r.createElement("div",{className:"FCaVy7r4GQE7QNuK3BEx",style:{width:Math.max(1)*e.value*100+"%"}})))},d=n(8114);const f={table:"Si1pcVcFc1bBLoyu7Y13",table_title:"GVtWUVp5icYbuUbBf2V5",table_anchor:"b5o1oBkF5D33RS149O9A",table_column_header:"VpiuSXx16ER0IcfvYyb2",row_header:"a8lz1N3p9rMKso58LUH1",table_entry_missing:"J2lkQAs6h37305aL4Zsy",table_entry:"RpjmKjCg2GsRi60LoGd2",table_entry_value:"qxhjoYUxCF0uZZFnvbPr",table_entry_bar:"hB2mqCkygKno5tl4DQen",table_entry_icon:"gsizvKUHsRX8HIOjFbb9",table_entry_tooltip:"GK2o1MqwNLJcE3UIeFrR"};var m,h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},h.apply(this,arguments)},b=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=["duckdb_sync","sqljs","arquero","lovefield"];!function(e){e[e.MEAN_TIME=0]="MEAN_TIME",e[e.FREQUENCY=1]="FREQUENCY"}(m||(m={}));var _=function(e){return r.createElement(r.Fragment,null,r.createElement("div",{className:f.table_title},e.title),r.createElement("div",{className:f.table_anchor}),r.createElement("div",{className:f.table_column_header},"DuckDB-wasm"),r.createElement("div",{className:f.table_column_header},"sql.js"),r.createElement("div",{className:f.table_column_header},"Arquero"),r.createElement("div",{className:f.table_column_header},"Lovefield"))},y=function(e){var t=(0,d.O)(),n=t.getArrowProps,a=t.getTooltipProps,o=t.setTooltipRef,i=t.setTriggerRef,s=t.visible;return r.createElement("div",{ref:i,className:e.className},e.children,s&&r.createElement("div",h({ref:o},a({className:c()("tooltip-container",f.table_entry_tooltip)})),r.createElement("div",h({},n({className:"tooltip-arrow"}))),e.warning))},g=function(e){var t,n,a,o,i=[],s=[],l=[],c=[];if(e.m==m.MEAN_TIME){for(var d=[],h=Number.POSITIVE_INFINITY,_=0,g=0,w=0;w<p.length;++w){var v=p[w],E=(null==(R=e.d.entries.get("".concat(e.bk,"_").concat(v)))?void 0:R.meanTime)||0;d.push(R),h=Math.min(h,(null==R?void 0:R.meanTime)||Number.POSITIVE_INFINITY),_=Math.max(_,(null==R?void 0:R.meanTime)||0),g=Math.max(g,0==E?0:1/E)}try{for(var T=b(d),S=T.next();!S.done;S=T.next())void 0!==(R=S.value)?(l.push((0==(null==R?void 0:R.meanTime)?0:1/(null==R?void 0:R.meanTime))/g),s.push("".concat((R.meanTime/1e3).toFixed(3)," s")),c.push(""==R.warning?null:R.warning)):(l.push(0),s.push(null),c.push(null))}catch(e){t={error:e}}finally{try{S&&!S.done&&(n=T.return)&&n.call(T)}finally{if(t)throw t.error}}}else if(e.m==m.FREQUENCY){for(d=[],g=0,w=0;w<p.length;++w){v=p[w];var R=e.d.entries.get("".concat(e.bk,"_").concat(v));d.push(R),E=(null==R?void 0:R.meanTime)||0,g=Math.max(g,0==E?0:1/E)}try{for(var N=b(d),k=N.next();!k.done;k=N.next())if(void 0!==(R=k.value)){var I=0==R.meanTime?0:1/R.meanTime;l.push(I/g),s.push("".concat(I.toFixed(2)," hz")),c.push(""==R.warning?null:R.warning)}else l.push(0),s.push(null),c.push(null)}catch(e){a={error:e}}finally{try{k&&!k.done&&(o=N.return)&&o.call(N)}finally{if(a)throw a.error}}}for(w=0;w<s.length;++w){var A=e.id*p.length+w,C=l[w],O=s[w],F=c[w];null==O?i.push(r.createElement("div",{key:A,className:f.table_entry_missing},"-")):F?i.push(r.createElement(y,{key:A,className:f.table_entry,warning:F},r.createElement("div",{className:f.table_entry_value},O," *"),r.createElement(u,{className:f.table_entry_bar,value:C}))):i.push(r.createElement("div",{key:A,className:f.table_entry},r.createElement("div",{className:f.table_entry_value},O),r.createElement(u,{className:f.table_entry_bar,value:C})))}return r.createElement(r.Fragment,null,r.createElement("div",{className:f.row_header},e.title),i)},w=function(e){for(var t=e.scaleFactor.toString().replace(/\.|,/,""),n=[],a=1;a<=22;++a)n.push(r.createElement(g,{key:a,id:a,bk:"tpch_".concat(t,"_").concat(a),title:"".concat(a),d:e.data,m:m.MEAN_TIME}));return r.createElement("div",{className:c()(f.table_container,e.className)},r.createElement("div",{className:f.table},r.createElement(_,{key:"tpch_".concat(t),title:"TPCH ".concat(e.scaleFactor)}),n))},v=function(e){return r.createElement("div",{className:c()(f.table_container,e.className)},r.createElement("div",{className:f.table},r.createElement(_,{key:"micro",title:"Micro Benchmarks"}),r.createElement(g,{id:1,bk:"integer_sum_1000_10",title:"sum-i32-1k-1",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:2,bk:"integer_sum_10000_10",title:"sum-i32-10k-10",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:3,bk:"integer_sum_100000_10",title:"sum-i32-100k-10",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:4,bk:"regex_1000_20",title:"regex-1k",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:5,bk:"regex_10000_20",title:"regex-10k",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:6,bk:"regex_100000_20",title:"regex-100k",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:7,bk:"integer_sort_1000_1_1",title:"sort-i32-1k",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:8,bk:"integer_sort_10000_1_1",title:"sort-i32-10k",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:9,bk:"integer_sort_100000_1_1",title:"sort-i32-100k",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:10,bk:"integer_sort_1000_2_2",title:"sort-i32x2-1k",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:11,bk:"integer_sort_10000_2_2",title:"sort-i32x2-10k",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:12,bk:"integer_sort_100000_2_2",title:"sort-i32x2-100k",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:13,bk:"integer_topk_1000_1_1_100",title:"top100-1k",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:14,bk:"integer_topk_10000_1_1_100",title:"top100-10k",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:15,bk:"integer_topk_100000_1_1_100",title:"top100-100k",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:16,bk:"integer_join2_1000_10000_10_100",title:"leftdeep-2-s",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:17,bk:"integer_join2_10000_100000_10_100",title:"leftdeep-2-m",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:18,bk:"integer_join2_100000_100000_10_100",title:"leftdeep-2-l",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:19,bk:"integer_join2_100000_1000000_10_100",title:"leftdeep-2-xl",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:20,bk:"integer_join3_10_100_1000_10_10_10",title:"leftdeep-3-s",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:21,bk:"integer_join3_100_1000_10000_10_10_100",title:"leftdeep-3-m",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:22,bk:"integer_join3_1000_10000_100000_10_10_100",title:"leftdeep-3-l",d:e.data,m:m.FREQUENCY}),r.createElement(g,{id:23,bk:"integer_join3_10000_100000_1000000_10_10_100",title:"leftdeep-3-xl",d:e.data,m:m.FREQUENCY})))};const E={table:"FARfknmJabhyxt4wrJcw",table_title:"E01mXDCZVR60HskVxHuQ",table_anchor:"pvBBGrFxbKJnmC3z0SSl",table_column_header:"acATjL4A722nV0lco42P",table_row_header:"e6DabaPhg9ldIakCh9e1",table_entry:"zTfX0SpyfkIKaWpkBJbV"};var T,S=n(4734),R=n(2073),N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},N.apply(this,arguments)};!function(e){e[e.LANGUAGE=1]="LANGUAGE",e[e.LICENSE=2]="LICENSE",e[e.BUNDLE_SIZE=15]="BUNDLE_SIZE",e[e.QUERY_INPUT=3]="QUERY_INPUT",e[e.WORKER_OFFLOADING=4]="WORKER_OFFLOADING",e[e.CSV_IMPORT=5]="CSV_IMPORT",e[e.JSON_IMPORT=6]="JSON_IMPORT",e[e.ARROW_IMPORT=7]="ARROW_IMPORT",e[e.PARQUET_IMPORT=8]="PARQUET_IMPORT",e[e.EVALUATION_STRATEGY=9]="EVALUATION_STRATEGY",e[e.NATIVE_COLUMN_ARRAYS=10]="NATIVE_COLUMN_ARRAYS",e[e.LOCAL_FILE_ACCESS=11]="LOCAL_FILE_ACCESS",e[e.REMOTE_FILE_ACCESS=12]="REMOTE_FILE_ACCESS",e[e.PARTIAL_FILE_READING=13]="PARTIAL_FILE_READING"}(T||(T={}));var k=new Map([[T.LANGUAGE,{text:"C++ & TS"}],[T.LICENSE,{text:"MPL-2.0"}],[T.BUNDLE_SIZE,{text:"68 KB + 1.8 MB",restrictions:["Streaming Wasm compilation"]}],[T.EVALUATION_STRATEGY,{text:"Vector at a time"}],[T.QUERY_INPUT,{text:"SQL Text"}],[T.WORKER_OFFLOADING,{available:!0}],[T.CSV_IMPORT,{available:!0}],[T.JSON_IMPORT,{available:!0}],[T.PARQUET_IMPORT,{available:!0}],[T.ARROW_IMPORT,{available:!0}],[T.NATIVE_COLUMN_ARRAYS,{available:!0}],[T.LOCAL_FILE_ACCESS,{available:!0}],[T.REMOTE_FILE_ACCESS,{available:!0}],[T.PARTIAL_FILE_READING,{available:!0}]]),I=new Map([[T.LANGUAGE,{text:"C & JS"}],[T.LICENSE,{text:"MIT"}],[T.BUNDLE_SIZE,{text:"15 KB + 332 KB",restrictions:["Streaming Wasm compilation"]}],[T.EVALUATION_STRATEGY,{text:"Tuple at a time"}],[T.QUERY_INPUT,{text:"SQL Text"}],[T.WORKER_OFFLOADING,{available:!0,restrictions:["Manual message passing"]}],[T.CSV_IMPORT,{available:!1}],[T.JSON_IMPORT,{available:!1}],[T.PARQUET_IMPORT,{available:!1}],[T.ARROW_IMPORT,{available:!1}],[T.NATIVE_COLUMN_ARRAYS,{available:!1}],[T.LOCAL_FILE_ACCESS,{available:!1}],[T.REMOTE_FILE_ACCESS,{available:!1,restrictions:["phiresky/sql.js-httpvfs"]}],[T.PARTIAL_FILE_READING,{available:!1,restrictions:["phiresky/sql.js-httpvfs"]}]]),A=new Map([[T.LANGUAGE,{text:"JS"}],[T.LICENSE,{text:"BSD-3"}],[T.BUNDLE_SIZE,{text:"53 KB"}],[T.EVALUATION_STRATEGY,{text:"Full Materialization"}],[T.QUERY_INPUT,{text:"Query Builder"}],[T.WORKER_OFFLOADING,{available:!0}],[T.CSV_IMPORT,{available:!0}],[T.JSON_IMPORT,{available:!0}],[T.PARQUET_IMPORT,{available:!1}],[T.ARROW_IMPORT,{available:!0}],[T.NATIVE_COLUMN_ARRAYS,{available:!0}],[T.LOCAL_FILE_ACCESS,{available:!1}],[T.REMOTE_FILE_ACCESS,{available:!1}],[T.PARTIAL_FILE_READING,{available:!1}]]),C=new Map([[T.LANGUAGE,{text:"JS"}],[T.LICENSE,{text:"Apache-2"}],[T.BUNDLE_SIZE,{text:"37 KB"}],[T.EVALUATION_STRATEGY,{text:"Full Materialization"}],[T.QUERY_INPUT,{text:"Query Builder"}],[T.WORKER_OFFLOADING,{available:!1}],[T.CSV_IMPORT,{available:!1}],[T.JSON_IMPORT,{available:!1}],[T.PARQUET_IMPORT,{available:!1}],[T.ARROW_IMPORT,{available:!1}],[T.NATIVE_COLUMN_ARRAYS,{available:!1}],[T.LOCAL_FILE_ACCESS,{available:!1}],[T.REMOTE_FILE_ACCESS,{available:!1}],[T.PARTIAL_FILE_READING,{available:!1}]]),O=function(e){var t=(0,d.O)(),n=t.getArrowProps,a=t.getTooltipProps,o=t.setTooltipRef,i=t.setTriggerRef,s=t.visible;return r.createElement(r.Fragment,null,r.createElement("div",{className:E.table_entry,ref:i},void 0!==e.value.available&&(e.value.available?r.createElement("svg",{width:"18px",height:"18px"},r.createElement("use",{xlinkHref:"".concat(R,"#sym")})):r.createElement("svg",{width:"18px",height:"18px"},r.createElement("use",{xlinkHref:"".concat(S,"#sym")}))),e.value.text,e.value.restrictions?" *":""),e.value.restrictions&&s&&r.createElement("div",N({ref:o},a({className:"tooltip-container"})),r.createElement("div",N({},n({className:"tooltip-arrow"}))),e.value.restrictions))},F=function(e){return r.createElement(r.Fragment,null,r.createElement("div",{className:E.table_row_header},e.name),r.createElement(O,{value:k.get(e.feature)}),r.createElement(O,{value:I.get(e.feature)}),r.createElement(O,{value:A.get(e.feature)}),r.createElement(O,{value:C.get(e.feature)}))},x=function(e){return r.createElement("div",{className:c()(E.table_container,e.className)},r.createElement("div",{className:E.table},r.createElement("div",{className:E.table_title},"Features"),r.createElement("div",{className:E.table_anchor}),r.createElement("div",{className:E.table_column_header},"DuckDB-Wasm"),r.createElement("div",{className:E.table_column_header},"sql.js"),r.createElement("div",{className:E.table_column_header},"Arquero"),r.createElement("div",{className:E.table_column_header},"Lovefield"),r.createElement(F,{feature:T.LANGUAGE,name:"Language"}),r.createElement(F,{feature:T.LICENSE,name:"License"}),r.createElement(F,{feature:T.BUNDLE_SIZE,name:"Compressed Size"}),r.createElement(F,{feature:T.EVALUATION_STRATEGY,name:"Evaluation Strategy"}),r.createElement(F,{feature:T.QUERY_INPUT,name:"Query Input"}),r.createElement(F,{feature:T.WORKER_OFFLOADING,name:"Worker Offloading"}),r.createElement(F,{feature:T.CSV_IMPORT,name:"Raw CSV Import"}),r.createElement(F,{feature:T.JSON_IMPORT,name:"Raw JSON Import"}),r.createElement(F,{feature:T.ARROW_IMPORT,name:"Raw Arrow Import"}),r.createElement(F,{feature:T.PARQUET_IMPORT,name:"Raw Parquet Import"}),r.createElement(F,{feature:T.LOCAL_FILE_ACCESS,name:"Local File Access"}),r.createElement(F,{feature:T.REMOTE_FILE_ACCESS,name:"Remote File Access"}),r.createElement(F,{feature:T.PARTIAL_FILE_READING,name:"Partial File Reads"})))};var L=function(e){var t,n,a,o,i,s={backgroundColor:e.color||"rgb(36, 41, 46)"};return r.createElement("div",{className:c()(e.className,"RLN8CrIWLD5kwm_I5618")},r.createElement("div",{className:c()("_UsXG2j5SjlvoT1n6h4i",(t={},t.stvYtirz7_pn4sWRgG7K=e.active,t)),style:s}),r.createElement("div",{className:c()("JwOPtBvuPO3VKaFSrwWT",(n={},n.stvYtirz7_pn4sWRgG7K=e.active,n)),style:s}),r.createElement("div",{className:c()("tn7VTUGimRqCLDv5k05I",(a={},a.stvYtirz7_pn4sWRgG7K=e.active,a)),style:s}),r.createElement("div",{className:c()("vLdGAjfyQaVNyo74Rmfy",(o={},o.stvYtirz7_pn4sWRgG7K=e.active,o)),style:s}),r.createElement("div",{className:c()("T4z7FNZogq54eV3LJlpV",(i={},i.stvYtirz7_pn4sWRgG7K=e.active,i)),style:s}))};const P="eI_uVwwAsBllFU3BdIHN",D="vOFx03_AlqH3wU11jM3H",M="hiA3Fn5y_Y7eQlkA_g7u",U="FjDYWhyO12aKsqon4HhA",j="u8GhOR05HAA1DZUQjmFR";var B,G=function(){return G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},G.apply(this,arguments)};!function(e){e[e.PENDING=0]="PENDING",e[e.INFLIGHT=1]="INFLIGHT",e[e.FAILED=2]="FAILED",e[e.SUCCEEDED=3]="SUCCEEDED"}(B||(B={}));var W,q,H,Q,Y,K,V=n(5499),z=n(9236),J=n(2723),X=Object.create,Z=Object.defineProperty,$=Object.getOwnPropertyDescriptor,ee=Object.getOwnPropertyNames,te=Object.getPrototypeOf,ne=Object.prototype.hasOwnProperty,re=(W=(e,t)=>{t.exports=Worker},()=>(q||W(q={exports:{}},q),q.exports)),ae=((Q=ae||{})[Q.NONE=0]="NONE",Q[Q.DEBUG=1]="DEBUG",Q[Q.INFO=2]="INFO",Q[Q.WARNING=3]="WARNING",Q[Q.ERROR=4]="ERROR",Q),oe=((H=oe||{})[H.NONE=0]="NONE",H[H.CONNECT=1]="CONNECT",H[H.DISCONNECT=2]="DISCONNECT",H[H.OPEN=3]="OPEN",H[H.QUERY=4]="QUERY",H[H.INSTANTIATE=5]="INSTANTIATE",H),ie=(e=>(e[e.NONE=0]="NONE",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR",e[e.START=3]="START",e[e.RUN=4]="RUN",e[e.CAPTURE=5]="CAPTURE",e))(ie||{}),se=(e=>(e[e.NONE=0]="NONE",e[e.WEB_WORKER=1]="WEB_WORKER",e[e.NODE_WORKER=2]="NODE_WORKER",e[e.BINDINGS=3]="BINDINGS",e[e.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",e))(se||{}),le=(e=>(e[e.SUCCESS=0]="SUCCESS",e))(le||{}),ce=class{constructor(e,t,n){this.db=e,this.conn=t,this.header=n,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return null!=this._inFlight?(e=await this._inFlight,this._inFlight=null):e=await this.db.fetchQueryResults(this.conn),this._depleted=0==e.length,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},ue=((K=ue||{}).CLOSE_PREPARED="CLOSE_PREPARED",K.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",K.CONNECT="CONNECT",K.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",K.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",K.CREATE_PREPARED="CREATE_PREPARED",K.DISCONNECT="DISCONNECT",K.DROP_FILE="DROP_FILE",K.DROP_FILES="DROP_FILES",K.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",K.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",K.FLUSH_FILES="FLUSH_FILES",K.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",K.GET_TABLE_NAMES="GET_TABLE_NAMES",K.GET_VERSION="GET_VERSION",K.GLOB_FILE_INFOS="GLOB_FILE_INFOS",K.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",K.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",K.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",K.INSTANTIATE="INSTANTIATE",K.OPEN="OPEN",K.PING="PING",K.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",K.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",K.REGISTER_FILE_URL="REGISTER_FILE_URL",K.RESET="RESET",K.RUN_PREPARED="RUN_PREPARED",K.RUN_QUERY="RUN_QUERY",K.SEND_PREPARED="SEND_PREPARED",K.SEND_QUERY="SEND_QUERY",K.TOKENIZE="TOKENIZE",K),de=((Y=de||{}).CONNECTION_INFO="CONNECTION_INFO",Y.ERROR="ERROR",Y.FEATURE_FLAGS="FEATURE_FLAGS",Y.FILE_BUFFER="FILE_BUFFER",Y.FILE_INFOS="FILE_INFOS",Y.FILE_SIZE="FILE_SIZE",Y.FILE_STATISTICS="FILE_STATISTICS",Y.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",Y.LOG="LOG",Y.OK="OK",Y.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",Y.QUERY_PLAN="QUERY_PLAN",Y.QUERY_RESULT="QUERY_RESULT",Y.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",Y.QUERY_START="QUERY_START",Y.REGISTERED_FILE="REGISTERED_FILE",Y.SCRIPT_TOKENS="SCRIPT_TOKENS",Y.SUCCESS="SUCCESS",Y.TABLE_NAMES="TABLE_NAMES",Y.VERSION_STRING="VERSION_STRING",Y),fe=class{constructor(e,t){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=t,this.promise=new Promise(((e,t)=>{this.promiseResolver=e,this.promiseRejecter=t}))}};function me(e){switch(e.typeId){case J.Dy.Binary:return{sqlType:"binary"};case J.Dy.Bool:return{sqlType:"bool"};case J.Dy.Date:return{sqlType:"date"};case J.Dy.DateDay:return{sqlType:"date32[d]"};case J.Dy.DateMillisecond:return{sqlType:"date64[ms]"};case J.Dy.Decimal:{let t=e;return{sqlType:"decimal",precision:t.precision,scale:t.scale}}case J.Dy.Float:return{sqlType:"float"};case J.Dy.Float16:return{sqlType:"float16"};case J.Dy.Float32:return{sqlType:"float32"};case J.Dy.Float64:return{sqlType:"float64"};case J.Dy.Int:return{sqlType:"int32"};case J.Dy.Int16:return{sqlType:"int16"};case J.Dy.Int32:return{sqlType:"int32"};case J.Dy.Int64:return{sqlType:"int64"};case J.Dy.Uint16:return{sqlType:"uint16"};case J.Dy.Uint32:return{sqlType:"uint32"};case J.Dy.Uint64:return{sqlType:"uint64"};case J.Dy.Uint8:return{sqlType:"uint8"};case J.Dy.IntervalDayTime:return{sqlType:"interval[dt]"};case J.Dy.IntervalYearMonth:return{sqlType:"interval[m]"};case J.Dy.List:return{sqlType:"list",valueType:me(e.valueType)};case J.Dy.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:e.byteWidth};case J.Dy.Null:return{sqlType:"null"};case J.Dy.Utf8:return{sqlType:"utf8"};case J.Dy.Struct:return{sqlType:"struct",fields:e.children.map((e=>he(e.name,e.type)))};case J.Dy.Map:{let t=e;return{sqlType:"map",keyType:me(t.keyType),valueType:me(t.valueType)}}case J.Dy.Time:return{sqlType:"time[s]"};case J.Dy.TimeMicrosecond:return{sqlType:"time[us]"};case J.Dy.TimeMillisecond:return{sqlType:"time[ms]"};case J.Dy.TimeNanosecond:return{sqlType:"time[ns]"};case J.Dy.TimeSecond:return{sqlType:"time[s]"};case J.Dy.Timestamp:return{sqlType:"timestamp",timezone:e.timezone||void 0};case J.Dy.TimestampSecond:return{sqlType:"timestamp[s]",timezone:e.timezone||void 0};case J.Dy.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:e.timezone||void 0};case J.Dy.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:e.timezone||void 0};case J.Dy.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error(`unsupported arrow type: ${e.toString()}`)}function he(e,t){let n=me(t);return n.name=e,n}var be=new TextEncoder,pe={name:"@duckdb/duckdb-wasm",version:"1.13.1-dev311.0",description:"DuckDB powered by WebAssembly",license:"MPL-2.0",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^7.0.0"},devDependencies:{"@types/emscripten":"^1.39.6","@types/jasmine":"^4.0.0","@typescript-eslint/eslint-plugin":"^5.16.0","@typescript-eslint/parser":"^5.17.0",esbuild:"^0.14.28",eslint:"^8.12.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.29.4","fast-glob":"^3.2.11",jasmine:"^4.0.2","jasmine-core":"^4.0.1","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.9.0",karma:"^6.3.17","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^4.0.1","karma-jasmine-html-reporter":"^1.7.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.33","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.6.1",puppeteer:"^13.5.1",rimraf:"^3.0.2",s3rver:"^3.7.1",typedoc:"^0.22.13",typescript:"^4.6.3","wasm-feature-detect":"^1.2.11","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},_e=pe.name,ye=pe.version,ge=pe.version.split("."),we=(ge[0],ge[1],ge[2],()=>typeof navigator>"u"),ve=null,Ee=null,Te=null,Se=null,Re=null;async function Ne(){return null==ve&&(ve=typeof BigInt64Array<"u"),null==Ee&&(Ee=await(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])))()),null==Te&&(Te=await(async e=>{try{return typeof MessageChannel<"u"&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))),null==Se&&(Se=await(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))()),null==Re&&(Re=await(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])))()),{bigInt64Array:ve,crossOriginIsolated:we()||globalThis.crossOriginIsolated||!1,wasmExceptions:Ee,wasmSIMD:Se,wasmThreads:Te,wasmBulkMemory:Re}}async function ke(e){let t=await Ne();if(t.wasmExceptions){if(t.wasmSIMD&&t.wasmThreads&&t.crossOriginIsolated&&e.coi)return{mainModule:e.coi.mainModule,mainWorker:e.coi.mainWorker,pthreadWorker:e.coi.pthreadWorker};if(e.eh)return{mainModule:e.eh.mainModule,mainWorker:e.eh.mainWorker,pthreadWorker:null}}return{mainModule:e.mvp.mainModule,mainWorker:e.mvp.mainWorker,pthreadWorker:null}}((e,t,n)=>{n=null!=e?X(te(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of ee(t))!ne.call(e,n)&&undefined!==n&&Z(e,n,{get:()=>t[n],enumerable:!(r=$(t,n))||r.enumerable})})(e&&e.__esModule?n:Z(n,"default",{value:e,enumerable:!0}),e)})(re());var Ie,Ae=n(7289),Ce=n(8440),Oe=n(3678),Fe=n(9358),xe={name:"@duckdb/duckdb-wasm-shell",version:"1.13.1-dev311.0",description:"",author:"Andre Kohn <kohn.a@outlook.com>",license:"MPL-2.0",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"@duckdb/duckdb-wasm":"^1.13.1-dev311.0",xterm:"^4.18.0","xterm-addon-fit":"^0.5.0","xterm-addon-web-links":"^0.5.1","xterm-addon-webgl":"^0.11.4"},devDependencies:{esbuild:"^0.14.28",eslint:"^8.12.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.29.4",jasmine:"^4.0.2","jasmine-core":"^4.0.1","jasmine-spec-reporter":"^7.0.0","make-dir":"^3.1.0",prettier:"^2.6.1",rimraf:"^3.0.2","wasm-pack":"^0.10.2"},scripts:{"install:wasmpack":"node ../../node_modules/wasm-pack/install.js","build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",lint:"eslint src"},files:["dist","!dist/types/test"],main:"dist/shell.cjs",module:"dist/shell.mjs",types:"dist/shell.d.ts",jsdelivr:"dist/shell.cjs",unpkg:"dist/shell.mjs",sideEffects:!1,exports:{"./dist/shell_bg.wasm":"./dist/shell_bg.wasm","./dist/shell.js":"./dist/shell.js","./dist/shell.cjs":"./dist/shell.cjs","./dist/shell.mjs":"./dist/shell.mjs","./dist/shell":"./dist/shell.mjs",".":{types:"./dist/shell.d.ts",import:"./dist/shell.mjs",require:"./dist/shell.cjs"}}},Le=(xe.name,xe.version,xe.version.split(".")),Pe=(Le[0],Le[1],Le[2],new Array(32).fill(void 0));function De(e){return Pe[e]}Pe.push(void 0,null,!0,!1);var Me=Pe.length;function Ue(e){const t=De(e);return function(e){e<36||(Pe[e]=Me,Me=e)}(e),t}var je=0,Be=null;function Ge(){return null!==Be&&Be.buffer===Ie.memory.buffer||(Be=new Uint8Array(Ie.memory.buffer)),Be}var We=new TextEncoder("utf-8"),qe="function"==typeof We.encodeInto?function(e,t){return We.encodeInto(e,t)}:function(e,t){const n=We.encode(e);return t.set(n),{read:e.length,written:n.length}};function He(e,t,n){if(void 0===n){const n=We.encode(e),r=t(n.length);return Ge().subarray(r,r+n.length).set(n),je=n.length,r}let r=e.length,a=t(r);const o=Ge();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;o[a+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),a=n(a,r,r=i+3*e.length);const t=Ge().subarray(a+i,a+r);i+=qe(e,t).written}return je=i,a}var Qe=null;function Ye(){return null!==Qe&&Qe.buffer===Ie.memory.buffer||(Qe=new Int32Array(Ie.memory.buffer)),Qe}function Ke(e){Me===Pe.length&&Pe.push(Pe.length+1);const t=Me;return Me=Pe[t],Pe[t]=e,t}function Ve(e){return null==e}var ze=null;function Je(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let n="[";t>0&&(n+=Je(e[0]));for(let r=1;r<t;r++)n+=", "+Je(e[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(n.length>1))return toString.call(e);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}var Xe=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function Ze(e,t){return Xe.decode(Ge().subarray(e,e+t))}function $e(e,t,n,r){const a={a:e,b:t,cnt:1,dtor:n},o=(...e)=>{a.cnt++;const t=a.a;a.a=0;try{return r(t,a.b,...e)}finally{0==--a.cnt?Ie.__wbindgen_export_2.get(a.dtor)(t,a.b):a.a=t}};return o.original=a,o}function et(e,t,n){return 0!==Ie._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h86575dcdd9170515(e,t,Ke(n))}function tt(e,t,n){Ie._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hf1b92730452b26a5(e,t,Ke(n))}function nt(e,t){try{return e.apply(this,t)}catch(e){Ie.__wbindgen_exn_store(Ke(e))}}function rt(e){var t=He(e,Ie.__wbindgen_malloc,Ie.__wbindgen_realloc),n=je;Ie.write(t,n)}function at(e){var t=He(e,Ie.__wbindgen_malloc,Ie.__wbindgen_realloc),n=je;Ie.writeln(t,n)}Xe.decode();var ot=32;var it=null;Object.freeze({FileInput:0,0:"FileInput"}),Object.freeze({Width0:0,0:"Width0",Width1:1,1:"Width1",Width2:2,2:"Width2"});var st=async function e(t){void 0===t&&(t=new URL(n(7991),n.b));const r={wbg:{}};r.wbg.__wbg_setcursorBlink_a86479d2e1c79045=function(e,t){De(e).cursorBlink=0!==t},r.wbg.__wbg_setcursorWidth_33b9ca879009416e=function(e,t){De(e).cursorWidth=t>>>0},r.wbg.__wbg_setdrawBoldTextInBrightColors_fd29f92ff197d87d=function(e,t){De(e).drawBoldTextInBrightColors=0!==t},r.wbg.__wbg_setfontSize_2390052bdfa0951f=function(e,t){De(e).fontSize=t>>>0},r.wbg.__wbg_setfontFamily_a76723a99b3e1c44=function(e,t,n){De(e).fontFamily=Ze(t,n)},r.wbg.__wbg_setrightClickSelectsWord_b360a1259d32073b=function(e,t){De(e).rightClickSelectsWord=0!==t},r.wbg.__wbg_setrows_869f76d0b575783a=function(e,t){De(e).rows=t>>>0},r.wbg.__wbg_settheme_8e79c01462f90cdf=function(e,t){De(e).theme=De(t)},r.wbg.__wbg_setforeground_edd982f95949c129=function(e,t,n){De(e).foreground=Ze(t,n)},r.wbg.__wbg_setbackground_24012fa04dc675fc=function(e,t,n){De(e).background=Ze(t,n)},r.wbg.__wbg_setbrightYellow_862f40b15257431a=function(e,t,n){De(e).brightYellow=Ze(t,n)},r.wbg.__wbg_construct_9d9938ba79ea4475=function(e){return Ke(new Ae.Terminal(De(e)))},r.wbg.__wbg_cols_f4f2fd6e0933a109=function(e){return De(e).cols},r.wbg.__wbg_focus_5fff41e8198ad0b4=function(e){De(e).focus()},r.wbg.__wbg_open_c7703947d6302f6c=function(e,t){De(e).open(Ue(t))},r.wbg.__wbg_attachCustomKeyEventHandler_9c38a062a62eddd5=function(e,t){De(e).attachCustomKeyEventHandler(De(t))},r.wbg.__wbg_write_167ebfb900d36862=function(e,t,n){De(e).write(Ze(t,n))},r.wbg.__wbg_setOption_ca4753aa51a9406f=function(e,t,n,r){De(e).setOption(Ze(t,n),Ue(r))},r.wbg.__wbg_loadAddon_0d8374e2ad409924=function(e,t){De(e).loadAddon(Ue(t))},r.wbg.__wbindgen_object_drop_ref=function(e){Ue(e)},r.wbg.__wbg_backgroundColor_13124d7a2f6922da=function(e,t){var n=He(De(t).backgroundColor,Ie.__wbindgen_malloc,Ie.__wbindgen_realloc),r=je;Ye()[e/4+1]=r,Ye()[e/4+0]=n},r.wbg.__wbg_fontFamily_bf454fed644c371e=function(e,t){var n=He(De(t).fontFamily,Ie.__wbindgen_malloc,Ie.__wbindgen_realloc),r=je;Ye()[e/4+1]=r,Ye()[e/4+0]=n},r.wbg.__wbg_withWebGL_23ecf5d40e6afbed=function(e){return De(e).withWebGL},r.wbg.__wbindgen_cb_drop=function(e){const t=Ue(e).original;return 1==t.cnt--&&(t.a=0,!0)},r.wbg.__wbg_bigInt64Array_c5434225e36e999d=function(e){return De(e).bigInt64Array},r.wbg.__wbg_wasmThreads_ee9dc3f62d002e58=function(e){return De(e).wasmThreads},r.wbg.__wbg_wasmExceptions_fd3690b4fcea2b6c=function(e){return De(e).wasmExceptions},r.wbg.__wbg_wasmSIMD_65312a153e3a0ea1=function(e){return De(e).wasmSIMD},r.wbg.__wbg_wasmBulkMemory_42658b625c12cf27=function(e){return De(e).wasmBulkMemory},r.wbg.__wbg_crossOriginIsolated_8ef3a49137dfb764=function(e){return De(e).crossOriginIsolated},r.wbg.__wbg_connectInternal_2a301658fb915262=function(){return nt((function(e){return Ke(De(e).connectInternal())}),arguments)},r.wbg.__wbg_collectFileStatistics_d5bb7163392f63a7=function(){return nt((function(e,t,n,r){return Ke(De(e).collectFileStatistics(Ze(t,n),0!==r))}),arguments)},r.wbg.__wbg_exportFileStatistics_047e5ff39e3cd97e=function(){return nt((function(e,t,n){return Ke(De(e).exportFileStatistics(Ze(t,n)))}),arguments)},r.wbg.__wbg_pushInputToHistory_be6169df38305347=function(){return nt((function(e,t,n){return Ke(De(e).pushInputToHistory(Ze(t,n)))}),arguments)},r.wbg.__wbg_runQuery_73797dc478f1bce2=function(){return nt((function(e,t,n,r){return Ke(De(e).runQuery(t>>>0,Ze(n,r)))}),arguments)},r.wbg.__wbg_disconnect_503fc005d621c8c7=function(){return nt((function(e,t){return Ke(De(e).disconnect(t>>>0))}),arguments)},r.wbg.__wbg_readClipboardText_cdb76d02b35ab9d4=function(){return nt((function(e){return Ke(De(e).readClipboardText())}),arguments)},r.wbg.__wbg_tokenize_17d3fb98b81f8e3b=function(){return nt((function(e,t,n){return Ke(De(e).tokenize(Ze(t,n)))}),arguments)},r.wbg.__wbg_getVersion_498e84d9ed3a6710=function(){return nt((function(e){return Ke(De(e).getVersion())}),arguments)},r.wbg.__wbg_getFeatureFlags_3fbe38b898027f8e=function(){return nt((function(e){return Ke(De(e).getFeatureFlags())}),arguments)},r.wbg.__wbg_getPlatformFeatures_c95d7aa09758c47e=function(){return nt((function(){return Ke(Ne())}),arguments)},r.wbg.__wbg_open_1c24085b4339ac18=function(){return nt((function(e,t,n){return Ke(De(e).open(Ze(t,n)))}),arguments)},r.wbg.__wbg_pickFiles_0773778daac97095=function(){return nt((function(e){return Ke(De(e).pickFiles())}),arguments)},r.wbg.__wbg_copyFileToBuffer_e4a7050307f57c30=function(){return nt((function(e,t,n){return Ke(De(e).copyFileToBuffer(Ze(t,n)))}),arguments)},r.wbg.__wbg_downloadFile_223fed31724de5a9=function(){return nt((function(e,t,n,r){return Ke(De(e).downloadFile(Ze(t,n),Ue(r)))}),arguments)},r.wbg.__wbg_dropFile_78cc44051c1ddec2=function(){return nt((function(e,t,n){return Ke(De(e).dropFile(Ze(t,n)))}),arguments)},r.wbg.__wbg_dropFiles_4d857401e3dd75ab=function(){return nt((function(e){return Ke(De(e).dropFiles())}),arguments)},r.wbg.__wbg_globFiles_7af26f0d3bb9c2f6=function(){return nt((function(e,t,n){return Ke(De(e).globFiles(Ze(t,n)))}),arguments)},r.wbg.__wbindgen_json_serialize=function(e,t){const n=De(t);var r=He(JSON.stringify(void 0===n?null:n),Ie.__wbindgen_malloc,Ie.__wbindgen_realloc),a=je;Ye()[e/4+1]=a,Ye()[e/4+0]=r},r.wbg.__wbindgen_object_clone_ref=function(e){return Ke(De(e))},r.wbg.__wbg_new_58c6288db0a82870=function(e){return Ke(new Fe.WebglAddon(16777215===e?void 0:0!==e))},r.wbg.__wbg_instanceof_WebglAddon_c39f68697a31af73=function(e){return De(e)instanceof Fe.WebglAddon},r.wbg.__wbg_new_6bf4fb65423e34f9=function(e,t,n){return Ke(new Oe.WebLinksAddon(De(e),De(t),16777215===n?void 0:0!==n))},r.wbg.__wbg_new_670d6f7b0bfae3ee=function(){return Ke(new Ce.FitAddon)},r.wbg.__wbg_instanceof_WebLinksAddon_fbcf4efb54881c53=function(e){return De(e)instanceof Oe.WebLinksAddon},r.wbg.__wbg_fit_fea2302f520fa7cc=function(e){De(e).fit()},r.wbg.__wbg_log_39e5c6dfbf35ce2a=function(e,t){console.log(Ze(e,t))},r.wbg.__wbg_error_e42d6a50bd4cd544=function(e,t){console.error(Ze(e,t))},r.wbg.__wbg_warn_8c6115cb2bc8bed9=function(e,t){console.warn(Ze(e,t))},r.wbg.__wbg_blockStats_b4d97ec10e70983d=function(e){return Ke(De(e).blockStats)},r.wbg.__wbg_totalFileWrites_bbaee851a41a14ff=function(e){return Ke(De(e).totalFileWrites)},r.wbg.__wbg_totalFileReadsAhead_ddd1fa3f99bbb6b5=function(e){return Ke(De(e).totalFileReadsAhead)},r.wbg.__wbg_totalFileReadsCold_1db94cbad8a68e51=function(e){return Ke(De(e).totalFileReadsCold)},r.wbg.__wbg_totalFileReadsCached_47f56ad6f5eea3e2=function(e){return Ke(De(e).totalFileReadsCached)},r.wbg.__wbg_totalPageAccesses_872b05c6d29a292d=function(e){return Ke(De(e).totalPageAccesses)},r.wbg.__wbg_totalPageLoads_f735ffd254650c2a=function(e){return Ke(De(e).totalPageLoads)},r.wbg.__wbg_blockSize_672ac525e53ba36d=function(e){return Ke(De(e).blockSize)},r.wbg.__wbg_offsets_b3b1bdd37d9a4f30=function(e,t){var n=function(e,t){const n=t(4*e.length);return(null!==it&&it.buffer===Ie.memory.buffer||(it=new Uint32Array(Ie.memory.buffer)),it).set(e,n/4),je=e.length,n}(De(t).offsets,Ie.__wbindgen_malloc),r=je;Ye()[e/4+1]=r,Ye()[e/4+0]=n},r.wbg.__wbg_types_cc4d77772fac0646=function(e,t){var n=function(e,t){const n=t(1*e.length);return Ge().set(e,n/1),je=e.length,n}(De(t).types,Ie.__wbindgen_malloc),r=je;Ye()[e/4+1]=r,Ye()[e/4+0]=n},r.wbg.__wbg_static_accessor_PACKAGE_NAME_da91149963a32187=function(e){var t=He(_e,Ie.__wbindgen_malloc,Ie.__wbindgen_realloc),n=je;Ye()[e/4+1]=n,Ye()[e/4+0]=t},r.wbg.__wbg_static_accessor_PACKAGE_VERSION_8aa2f518d9081bf5=function(e){var t=He(ye,Ie.__wbindgen_malloc,Ie.__wbindgen_realloc),n=je;Ye()[e/4+1]=n,Ye()[e/4+0]=t},r.wbg.__wbg_instanceof_Window_11e25482011fc506=function(e){return De(e)instanceof Window},r.wbg.__wbg_performance_9d1ecf711183e1d5=function(e){var t=De(e).performance;return Ve(t)?0:Ke(t)},r.wbg.__wbg_now_44a034aa2e1d73dd=function(e){return De(e).now()},r.wbg.__wbg_type_55a19f61b3198ce6=function(e,t){var n=He(De(t).type,Ie.__wbindgen_malloc,Ie.__wbindgen_realloc),r=je;Ye()[e/4+1]=r,Ye()[e/4+0]=n},r.wbg.__wbg_ctrlKey_8fa508d0b540bc8f=function(e){return De(e).ctrlKey},r.wbg.__wbg_metaKey_d60075e40f8f06d7=function(e){return De(e).metaKey},r.wbg.__wbg_key_6827d862c9cc3928=function(e,t){var n=He(De(t).key,Ie.__wbindgen_malloc,Ie.__wbindgen_realloc),r=je;Ye()[e/4+1]=r,Ye()[e/4+0]=n},r.wbg.__wbg_get_b7bbf50adcc94294=function(e,t){return Ke(De(e)[t>>>0])},r.wbg.__wbg_length_555f836564bf148d=function(e){return De(e).length},r.wbg.__wbg_call_ba36642bd901572b=function(){return nt((function(e,t){return Ke(De(e).call(De(t)))}),arguments)},r.wbg.__wbg_new_3e1ee746fe308c9f=function(e,t){return Ke(new Error(Ze(e,t)))},r.wbg.__wbg_message_e440fbd911a845a2=function(e){return Ke(De(e).message)},r.wbg.__wbg_toString_e5b96b15120ff6d4=function(e){return Ke(De(e).toString())},r.wbg.__wbg_newnoargs_9fdd8f3961dd1bee=function(e,t){return Ke(new Function(Ze(e,t)))},r.wbg.__wbg_call_3fc07b7d5fc9022d=function(){return nt((function(e,t,n){return Ke(De(e).call(De(t),De(n)))}),arguments)},r.wbg.__wbg_new_edbe38a4e21329dd=function(){return Ke(new Object)},r.wbg.__wbg_new_c143a4f563f78c4e=function(e,t){try{var n={a:e,b:t},r=new Promise(((e,t)=>{const r=n.a;n.a=0;try{return function(e,t,n,r){Ie.wasm_bindgen__convert__closures__invoke2_mut__h445be38df5ff7a40(e,t,Ke(n),Ke(r))}(r,n.b,e,t)}finally{n.a=r}}));return Ke(r)}finally{n.a=n.b=0}},r.wbg.__wbg_resolve_cae3d8f752f5db88=function(e){return Ke(Promise.resolve(De(e)))},r.wbg.__wbg_then_c2361a9d5c9a4fcb=function(e,t){return Ke(De(e).then(De(t)))},r.wbg.__wbg_then_6c9a4bf55755f9b8=function(e,t,n){return Ke(De(e).then(De(t),De(n)))},r.wbg.__wbg_self_bb69a836a72ec6e9=function(){return nt((function(){return Ke(self.self)}),arguments)},r.wbg.__wbg_window_3304fc4b414c9693=function(){return nt((function(){return Ke(window.window)}),arguments)},r.wbg.__wbg_globalThis_e0d21cabc6630763=function(){return nt((function(){return Ke(globalThis.globalThis)}),arguments)},r.wbg.__wbg_global_8463719227271676=function(){return nt((function(){return Ke(global.global)}),arguments)},r.wbg.__wbindgen_is_undefined=function(e){return void 0===De(e)},r.wbg.__wbg_buffer_9e184d6f785de5ed=function(e){return Ke(De(e).buffer)},r.wbg.__wbg_length_2d56cb37075fcfb1=function(e){return De(e).length},r.wbg.__wbg_new_e8101319e4cf95fc=function(e){return Ke(new Uint8Array(De(e)))},r.wbg.__wbg_set_e8ae7b27314e8b98=function(e,t,n){De(e).set(De(t),n>>>0)},r.wbg.__wbindgen_number_get=function(e,t){const n=De(t);var r="number"==typeof n?n:void 0;(null!==ze&&ze.buffer===Ie.memory.buffer||(ze=new Float64Array(Ie.memory.buffer)),ze)[e/8+1]=Ve(r)?0:r,Ye()[e/4+0]=!Ve(r)},r.wbg.__wbindgen_string_get=function(e,t){const n=De(t);var r="string"==typeof n?n:void 0,a=Ve(r)?0:He(r,Ie.__wbindgen_malloc,Ie.__wbindgen_realloc),o=je;Ye()[e/4+1]=o,Ye()[e/4+0]=a},r.wbg.__wbindgen_debug_string=function(e,t){var n=He(Je(De(t)),Ie.__wbindgen_malloc,Ie.__wbindgen_realloc),r=je;Ye()[e/4+1]=r,Ye()[e/4+0]=n},r.wbg.__wbindgen_throw=function(e,t){throw new Error(Ze(e,t))},r.wbg.__wbindgen_rethrow=function(e){throw Ue(e)},r.wbg.__wbindgen_memory=function(){return Ke(Ie.memory)},r.wbg.__wbindgen_closure_wrapper225=function(e,t,n){return Ke($e(e,t,3,et))},r.wbg.__wbindgen_closure_wrapper919=function(e,t,n){return Ke($e(e,t,151,tt))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:a,module:o}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,r);return Ie=a.exports,e.__wbindgen_wasm_module=o,Ie.__wbindgen_start(),Ie},lt="DUCKDB_WASM_SHELL_HISTORY",ct="LOG_INFO",ut="LOG_ENTRIES",dt=()=>{if(/^((?!chrome|android).)*safari/i.test(we()?"node":navigator.userAgent))return!1;const e=document.createElement("canvas"),t="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return t in e?e[t]("webgl2"):"WebGL2RenderingContext"in window};async function ft(e){var t,n;await st(e.shellModule);const r=new class{constructor(e){this.container=e,this.database=null,this.history=new class{constructor(){this._idbFactory=window.indexedDB,this._idb=null,this._nextEntryKey=0,this._entryCount=0}async load(){if(0==this._entryCount)return[[],0];const e=this._idb.transaction([ut,ct],"readwrite").objectStore(ut).openCursor();return await new Promise(((t,n)=>{const r=[];e.onsuccess=e=>{const n=e.target;null!=n.result?(r.push(n.result.value.input),n.result.continue()):t([r,this._nextEntryKey])},e.onerror=n}))}async open(){this._idb=await new Promise(((e,t)=>{const n=this._idbFactory.open(lt,4);n.onupgradeneeded=n=>{const r=n.target,a=r.result,o=r.transaction;this.createSchema(a),o.oncomplete=()=>e(a),o.onerror=e=>t(e)},n.onsuccess=t=>{const r=n.result;e(r)},n.onerror=e=>t(e)})),await this.loadMetadata()}async loadMetadata(){const e=await new Promise(((e,t)=>{const n=this._idb.transaction([ct]).objectStore(ct).get(0);n.onsuccess=t=>e(t.target.result||null),n.onerror=t=>{console.warn(t),e(null)}}));this._nextEntryKey=(null==e?void 0:e.nextEntryKey)||0,this._entryCount=(null==e?void 0:e.entryCount)||0}createSchema(e){e.objectStoreNames.contains(ct)&&e.deleteObjectStore(ct),e.objectStoreNames.contains(ut)&&e.deleteObjectStore(ut),e.createObjectStore(ct,{keyPath:"key"}),e.createObjectStore(ut,{keyPath:"key"})}async reset(){var e;null==(e=this._idb)||e.close(),this._idb=null,this._idbFactory.deleteDatabase(lt),await this.open()}async push(e){const t=1023&this._nextEntryKey++;this._entryCount=Math.min(this._entryCount+1,1024);const n=this._idb.transaction([ut,ct],"readwrite"),r=n.objectStore(ct),a=n.objectStore(ut);await Promise.all([new Promise(((n,r)=>{const o=a.put({key:t,when:new Date,input:e});o.onsuccess=n,o.onerror=r})),new Promise(((e,t)=>{const n=r.put({key:0,nextEntryKey:this._nextEntryKey,entryCount:this._entryCount});n.onsuccess=e,n.onerror=t}))])}},this.resizeHandler=t=>{const n=e.getBoundingClientRect();var r,a;r=n.width,a=n.height,Ie.resize(r,a)}}async pickFiles(){return null==this.database?(console.warn("database is not initialized"),0):await(e=this.database,new Promise(((t,n)=>{const r=document.createElement("input");r.type="file";let a=!1;const o=async()=>{console.log(r.files),a=!0;const n=r.files;for(let t=0;t<n.length;++t){const r=n.item(t);await e.dropFile(r.name),await e.registerFileHandle(r.name,r)}t(n.length)},i=async()=>{window.removeEventListener("focus",i),a||(await new Promise((e=>setTimeout(e,1e3))),a||await o())};r.onchange=async function(){window.removeEventListener("focus",i),await o()},r.onclick=async function(){window.addEventListener("focus",i)},r.click()})));var e}async downloadFile(e,t){const n=new Blob([t]),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=e,r.click()}async readClipboardText(){return await navigator.clipboard.readText()}async writeClipboardText(e){return await navigator.clipboard.writeText(e)}async pushInputToHistory(e){this.history.push(e)}}(e.container);!function(e,t,n){Ie.embed(Ke(e),Ke(t),Ke(n))}(e.container,r,{fontFamily:null!=(t=e.fontFamily)?t:"monospace",backgroundColor:null!=(n=e.backgroundColor)?n:"#333",withWebGL:dt()}),e.container.onresize=r.resizeHandler,at("[1m[ RUN ][m Instantiating DuckDB"),r.database=await e.resolveDatabase((e=>{if(e.bytesTotal>0){const t=Math.floor(e.bytesLoaded/e.bytesTotal*10);rt(`[2K\r[1m[ RUN ][m Loading ${"#".repeat(t)}${"-".repeat(10-t)}`)}else rt(`[2K\r[1m[ RUN ][m Loading ${function(e){const[t,n,r]=[1e3,"k","B"],a=Math.log(e)/Math.log(t)|0,o=Number((e/Math.pow(t,a)).toFixed(2));return`${o} ${a?`${n}MGTPEZY`[a-1]+r:"byte"+(1!==o?"s":"")}`}(e.bytesLoaded)}`)})),at("[2K\r[1m[ OK  ][m Instantiating DuckDB");const a=async(e,t)=>{at(`[1m[ RUN ][m ${e}`),await t(),at(`[1m[ OK  ][m ${e}`)};await a("Loading Shell History",(async()=>{await r.history.open();const[e,t]=await r.history.load();!function(e,t){try{Ie.loadHistory(function(e){if(1==ot)throw new Error("out of js stack");return Pe[--ot]=e,ot}(e),t)}finally{Pe[ot++]=void 0}}(e,t)})),await a("Attaching Shell",(async()=>{var e;e=r.database,Ue(Ie.configureDatabase(Ke(e)))}))}var mt,ht=n(7623);!function(e){e[e.NONE=0]="NONE",e[e.RUNNING=1]="RUNNING",e[e.FAILED=2]="FAILED",e[e.COMPLETED=3]="COMPLETED"}(mt||(mt={}));var bt=function(){function e(e,t,n,r){this.status=e||mt.NONE,this.value=t||null,this.error=n||null,this.progress=r||null}return e.prototype.resolving=function(){return this.status!=mt.NONE},e.prototype.completeWith=function(t,n){return void 0===n&&(n=null),new e(mt.COMPLETED,t,this.error,n)},e.prototype.failWith=function(t,n){return void 0===n&&(n=null),new e(mt.FAILED,this.value,t,n)},e.prototype.updateRunning=function(t){return void 0===t&&(t=null),new e(mt.RUNNING,this.value,this.error,t)},e}(),pt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},_t=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},yt=r.createContext(null),gt=r.createContext(null),wt=r.createContext(null),vt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},Et=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Tt=r.createContext(null),St=r.createContext(null),Rt=function(){return r.useContext(Tt)},Nt=function(){return r.useContext(St)},kt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},It=r.createContext(ht.D5()),At=r.createContext(null),Ct=function(e){var t;return(null===(t=r.useContext(It))||void 0===t?void 0:t.get(e||0))||null},Ot=n(5082),Ft=n.n(Ot);var xt=n(7991),Lt="Roboto Mono",Pt=n(4504),Dt=function(){return Dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Dt.apply(this,arguments)};function Mt(e){return"".concat(null!=e.tableSchema?e.tableSchema+".":"").concat(e.tableName)}function Ut(e,t){var n,r,a,o,i;return r=this,a=void 0,i=function(){var r,a,o,i,s,l,c,u,d,f,m;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(h){switch(h.label){case 0:return r=[],a=new Map,o=[],[4,e.query("DESCRIBE ".concat(null!=t.tableSchema?t.tableSchema+".":"").concat(t.tableName))];case 1:i=h.sent(),s=0;try{for(l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),c=l.next();!c.done;c=l.next())u=c.value,r.push(u.Field),a.set(u.Field,s++),d=function(e){switch(e){case"BOOLEAN":return new Pt.tW;case"TINYINT":return new Pt.tJ;case"SMALLINT":return new Pt.k6;case"INTEGER":return new Pt.Vq;case"BIGINT":return new Pt.ni;case"UTINYINT":return new Pt.bz;case"USMALLINT":return new Pt.s3;case"UINTEGER":return new Pt.cf;case"UBIGINT":return new Pt.EZ;case"FLOAT":return new Pt.yA;case"HUGEINT":return new Pt.tA(32,0);case"DOUBLE":return new Pt.Dh;case"VARCHAR":return new Pt.di;case"DATE":return new Pt.Q;case"TIME":return new Pt.qp(J.j1.MILLISECOND,32);case"TIMESTAMP":return new Pt.qW;default:return new Pt.p2}},o.push(d(u.Type))}catch(e){f={error:e}}finally{try{c&&!c.done&&(m=l.return)&&m.call(l)}finally{if(f)throw f.error}}return[2,Dt(Dt({},t),{tableSchema:null!==(n=t.tableSchema)&&void 0!==n?n:null,columnNames:r,columnTypes:o,dataColumns:o.length,columnNameMapping:a,columnAliases:[],columnGroupingSets:[],rowGroupingSets:[]})]}}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{l(i.next(e))}catch(e){t(e)}}function s(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,s)}l((i=i.apply(r,a||[])).next())}))}var jt=r.createContext(null),Bt=r.createContext(null),Gt=function(){return r.useContext(Bt)},Wt=r.createContext(null),qt=function(){return r.useContext(Wt)},Ht=function(e){var t,n=null!==(t=r.useContext(jt))&&void 0!==t?t:Number.MIN_SAFE_INTEGER,a=Ct(),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}(r.useState({schema:null,name:null,ownEpoch:n,metadata:null}),2),i=o[0],s=o[1],l=r.useRef(!1),c=r.useRef(!0);return r.useEffect((function(){return function(){c.current=!1}}),[]),r.useEffect((function(){var t;c.current&&a&&!l.current&&(l.current=!0,function(e,t,n){return r=void 0,o=void 0,u=function(){var r;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){switch(o.label){case 0:return[4,Ut(a,{tableSchema:e,tableName:t})];case 1:return r=o.sent(),l.current=!1,c.current?(s({schema:e,name:t,ownEpoch:n,metadata:r}),[2]):[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{s(u.next(e))}catch(e){t(e)}}function a(e){try{s(u.throw(e))}catch(e){t(e)}}function s(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,a)}s((u=u.apply(r,o||[])).next())}));var r,o,i,u}(null!==(t=e.schema)&&void 0!==t?t:null,e.name,n).catch((function(e){return console.error(e)})))}),[a,e.schema,e.name,n]),r.createElement(Wt.Provider,{value:i.metadata},e.children)},Qt=r.createContext(null),Yt=function(e){var t,n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}(r.useState({ownEpoch:null,cardinality:null}),2),a=n[0],o=n[1],i=null!==(t=Gt())&&void 0!==t?t:Number.MIN_SAFE_INTEGER,s=r.useRef(!1),l=r.useRef(!0);return r.useEffect((function(){return function(){l.current=!1}}),[]),r.useEffect((function(){e.connection&&!s.current&&a.ownEpoch!=i&&(s.current=!0,function(t){return n=void 0,r=void 0,i=function(){var n,r,a;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(i){switch(i.label){case 0:return[4,e.connection.query("SELECT COUNT(*)::INTEGER FROM ".concat(Mt(e.table)))];case 1:return n=i.sent(),r=(null===(a=n.getChildAt(0))||void 0===a?void 0:a.get(0))||null,l.current?(s.current=!1,o({ownEpoch:t,cardinality:r}),[2]):[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function o(e){try{l(i.next(e))}catch(e){t(e)}}function s(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,s)}l((i=i.apply(n,r||[])).next())}));var n,r,a,i}(i).catch((function(e){return console.error(e)})))}),[e.connection,e.table,i,a]),r.createElement(Bt.Provider,{value:a.ownEpoch},r.createElement(Qt.Provider,{value:a.cardinality},e.children))},Kt=r.createContext(null),Vt=r.createContext(null),zt=r.createContext(null),Jt=function(){function e(){this.offset=0,this.limit=0,this.overscan=0,this.ordering=null}return e.prototype.withRange=function(e,t,n){return void 0===n&&(n=0),this.offset=e,this.limit=t,this.overscan=n,this},e.prototype.withOrdering=function(e){return this.ordering=e,this},Object.defineProperty(e.prototype,"begin",{get:function(){return Math.max(this.offset,this.overscan)-this.overscan},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.offset+this.limit+this.overscan},enumerable:!1,configurable:!0}),e.prototype.sameOrdering=function(e){if(this.ordering==e.ordering)return!0;var t=this.ordering,n=e.ordering;if(null!=t&&null!=n&&t.length==n.length)for(var r=0;r<t.length;++r)for(var a=0;a<n.length;++a)if(t[r].columnIndex!=n[r].columnIndex||t[r].descending!=n[r].descending||t[r].nullsFirst!=n[r].nullsFirst)return!1;return!0},e.prototype.includesRequest=function(e){return this.includesRange(e.offset,e.limit)&&this.sameOrdering(e)},e.prototype.includesRange=function(e,t){return 0==this.limit||0==t?0==this.limit&&this.begin<=e:this.begin<=e&&this.end>=e+t},e.prototype.intersectsRange=function(e,t){if(0==t)return!0;if(0==this.limit)return e+t>this.begin;var n=this.begin,r=this.end;return e>=n&&e+t<=r||e<=n&&e+t>=n||e<r&&e+t>=r},e}(),Xt=function(){return Xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Xt.apply(this,arguments)},Zt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},$t=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},en=function(e){var t,n=null!==(t=Gt())&&void 0!==t?t:Number.MIN_SAFE_INTEGER,a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}(r.useState({statistics:{queryCount:0,queryExecutionTotalMs:0,resultRows:0,resultBytes:0},queryQueued:e.request,queryInFlightPromise:null,queryInFlight:null,availableResult:null}),2),o=a[0],i=a[1],s=r.useRef(!0);r.useEffect((function(){return function(){s.current=!1}}),[]),r.useEffect((function(){null==o.queryQueued&&(null!=o.queryInFlight?i((function(e){return Xt(Xt({},e),{queryQueued:o.queryInFlight})})):null!=o.availableResult&&i((function(e){return Xt(Xt({},e),{queryQueued:o.availableResult.request})})))}),[n]);var l=r.useCallback((function(e){o.availableResult&&o.availableResult.request.includesRequest(e)||o.queryInFlight&&o.queryInFlight.includesRequest(e)||i((function(t){return Xt(Xt({},t),{queryQueued:e})}))}),[o]),c=r.useCallback((function(t){return Zt(void 0,void 0,void 0,(function(){var n,r,a,o,i,s,l,c,u;return $t(this,(function(d){switch(d.label){case 0:return n=t.begin,r=t.end-n,a=null!==(u=t.ordering)&&void 0!==u?u:e.request.ordering,o="SELECT * FROM ".concat(Mt(e.table)),null!=a&&a.length>0&&(i=a.map((function(t){var n=e.table.columnNames[t.columnIndex];return t.descending&&(n+=" DESC"),t.nullsFirst&&(n+=" NULLS FIRST"),n})),o+=" ORDER BY ".concat(i.join(","))),t.offset>0&&(o+=" OFFSET ".concat(n)),t.limit>0&&(o+=" LIMIT ".concat(r)),s=performance.now(),[4,e.connection.query(o)];case 1:return l=d.sent(),c=performance.now()-s,[2,{table:e.table,request:t,result:l,duration:c}]}}))}))}),[e.table,e.request.ordering]);return r.useEffect((function(){if(!o.queryInFlight&&o.queryQueued){var e=o.queryQueued,t=c(e);i((function(n){return Xt(Xt({},n),{queryQueued:null,queryInFlight:e,queryInFlightPromise:t})}))}}),[o.queryInFlight,o.queryQueued]),r.useEffect((function(){Zt(void 0,void 0,void 0,(function(){var e,t,n,r,a,l,c,u;return $t(this,(function(d){switch(d.label){case 0:return o.queryInFlightPromise?[4,o.queryInFlightPromise]:[2];case 1:if(!(e=d.sent())||!s.current)return[2];t=0;try{for(n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.result.batches),r=n.next();!r.done;r=n.next())for(a=r.value,l=0;l<a.numCols;++l)t+=a.getByteLength(l)}catch(e){c={error:e}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(c)throw c.error}}return i((function(n){return Xt(Xt({},n),{statistics:{queryCount:n.statistics.queryCount+1,queryExecutionTotalMs:n.statistics.queryExecutionTotalMs+e.duration,resultRows:n.statistics.resultRows+e.result.numRows,resultBytes:n.statistics.resultBytes+t},queryInFlight:null,queryInFlightPromise:null,availableResult:e})})),[2]}}))})).catch((function(e){return console.error(e)}))}),[o.queryInFlightPromise]),o.availableResult?r.createElement(zt.Provider,{value:l},r.createElement(Wt.Provider,{value:o.availableResult.table},r.createElement(Kt.Provider,{value:o.availableResult},r.createElement(Vt.Provider,{value:o.statistics},e.children)))):r.createElement("div",null)},tn=n(8113),nn=n(5010),rn=function(){return rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},rn.apply(this,arguments)},an=function(e,t){var n="undefined"!=typeof window&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)?16777100:15e5,r=Math.min(e.innerWidth,n),a=Math.min(e.innerHeight,n);return rn(rn({},t),{adjustedInnerWidth:r,adjustedInnerHeight:a,horizontalScaling:r>0?e.innerWidth/r:1,verticalScaling:a>0?e.innerHeight/a:1})},on=function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}(r.useState((function(){return an(e,{adjustedInnerWidth:e.innerWidth,adjustedInnerHeight:e.innerHeight,horizontalScaling:1,verticalScaling:1,position:null})})),2),n=t[0],a=t[1];return r.useEffect((function(){a((function(t){return an(e,t)}))}),[e.innerHeight,e.innerHeight]),r.createElement(nn.$B,{className:e.className,style:e.style,onScrollFrame:e.onScrollFrame?function(t){var r={clientWidth:t.clientWidth,clientHeight:t.clientHeight,verticalScaling:n.verticalScaling,horizontalScaling:n.horizontalScaling,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop};a(rn(rn({},n),{position:r})),e.onScrollFrame(r)}:void 0,onScrollStop:e.onScrollStop,autoHide:!0},r.createElement("div",{style:{width:n.adjustedInnerWidth,height:n.adjustedInnerHeight}}))};const sn="SZgoiNzwOVIEvaAU3eB_";var ln=function(){function e(e,t,n,r,a){this.columnName=e,this.valueClassName=t,this.values=n,this.valueMaxLength=r,this.valueAvgLength=a}return e.ReadFrom=function(t,n,r){var a,o,i,s=n.getChildAt(r),l=null!==(i=t.columnAliases[r])&&void 0!==i?i:n.schema.fields[r].name,c=sn,u=function(e){return(null==e?void 0:e.toString())||null};switch(s.type.typeId){case J.Dy.Int:case J.Dy.Int16:case J.Dy.Int32:case J.Dy.Int64:case J.Dy.Float:case J.Dy.Float16:case J.Dy.Float32:case J.Dy.Float64:c="jNnJ56HiQ2Nc6BfW61MQ";var d=Intl.NumberFormat("en-US");u=function(e){return null==e?null:d.format(e)};break;case J.Dy.Utf8:c=sn,u=function(e){return e||null};break;case J.Dy.TimeMicrosecond:console.warn("not implemented: arrow formatting TimeMicrosecond");break;case J.Dy.TimeMillisecond:console.warn("not implemented: arrow formatting TimeMillisecond");break;case J.Dy.Timestamp:c=sn;var f=s.type,m=Intl.DateTimeFormat("en-US",{dateStyle:"short",timeStyle:"medium"});switch(f.unit){case J.j1.SECOND:u=function(e){return null==e?null:m.format(new Date(1e3*e))};break;case J.j1.MICROSECOND:u=function(e){return null==e?null:m.format(new Date(e))};break;case J.j1.MILLISECOND:case J.j1.NANOSECOND:console.warn("not implemented: arrow formatting Timestamp")}break;case J.Dy.TimestampMicrosecond:console.warn("not implemented: arrow formatting TimestampMicrosecond");break;case J.Dy.TimestampMillisecond:console.warn("not implemented: arrow formatting TimestampMillisecond");break;case J.Dy.TimestampNanosecond:console.warn("not implemented: arrow formatting TimestampNanosecond");break;case J.Dy.TimeSecond:console.warn("not implemented: arrow formatting TimeSecond");break;case J.Dy.DateMillisecond:case J.Dy.DateDay:case J.Dy.Date:c=sn;var h=Intl.DateTimeFormat("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric"});u=function(e){return null==e?null:h.format(e)}}var b=[],p=0,_=0;try{for(var y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),g=y.next();!g.done;g=y.next()){var w=u(g.value)||"";b.push(w),p+=w.length,_=Math.max(_,w.length)}}catch(e){a={error:e}}finally{try{g&&!g.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}return new e(null!=l?l:n.schema.fields[r].name,c,b,_,p/b.length)},e.prototype.getColumnName=function(){return this.columnName},e.prototype.getLayoutInfo=function(){return{headerWidth:this.columnName.length,valueMaxWidth:this.valueMaxLength,valueAvgWidth:this.valueAvgLength}},e.prototype.renderCell=function(e,t,n){return r.createElement("div",{key:t,className:"JHmseSdoqqRO41HKzDNX",style:n},r.createElement("div",{className:c()("xsds6Jr1H5dqIhsmb7iF",this.valueClassName)},this.values[e]))},e}();const cn="mglHvQI0MKcOhfGnSvSX",un="IeCOQhtzJ9bSPO4Zy7mo",dn="_6Tu1Q7PCRjmESh2GUWEb",fn="ZuUe72oUkKVSEB1lWnld",mn="YnrtOq2WPnwmeqMguDCZ";var hn=function(){return hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},hn.apply(this,arguments)},bn=function(){return bn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},bn.apply(this,arguments)},pn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},_n=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},yn=28;function gn(e){return r.createElement("div",{key:e.key,className:mn,style:bn({},e.style)})}var wn=function(e,t,n,a,o,i,s,l,c){var u,d,f="".concat(n,"-").concat(i),m=void 0;return null!=c&&(m="rgba(0, 0, 0, ".concat(.05*c.rowLevel[o],")")),!l||!t.styleCache[f]||m&&t.styleCache[f].backgroundColor!=m?t.deferredMeasurementCache&&!t.deferredMeasurementCache.has(n,i)?u={position:"absolute",left:0,top:0,width:"auto",height:"auto",backgroundColor:m}:(u={position:"absolute",left:s.offset+t.horizontalOffsetAdjustment,top:a.offset+t.verticalOffsetAdjustment,width:s.size,height:a.size,backgroundColor:m},t.styleCache[f]=u):u=t.styleCache[f],i>=e.length?r.createElement("div",{key:f,className:mn,style:u}):(!t.isScrollingOptOut&&!t.isScrolling||t.horizontalOffsetAdjustment||t.verticalOffsetAdjustment?d=e[i].renderCell(o,f,u):(t.cellCache[f]||(t.cellCache[f]=e[i].renderCell(o,f,u)),d=t.cellCache[f]),d)},vn=function(e,t,n,r){for(var a=n.columnSizeAndPositionManager.areOffsetsAdjusted()||n.rowSizeAndPositionManager.areOffsetsAdjusted(),o=!n.isScrolling&&!a,i=[],s=n.columnStartIndex;s<=n.columnStopIndex;s++)for(var l=n.columnSizeAndPositionManager.getSizeAndPositionOfCell(s),c=n.rowStartIndex-e.request.begin,u=n.rowStopIndex-n.rowStartIndex+1,d=n.rowStartIndex,f=c;f<c+u;++f){var m=n.rowSizeAndPositionManager.getSizeAndPositionOfCell(d),h=wn(t,n,d,m,f,s,l,o,r);h&&i.push(h),++d}return i};const En=(Tn=function(e){var t,n,a,o,i,s,l=qt(),c=r.useContext(Kt),u=r.useContext(zt),d=r.useContext(Qt)||0,f=r.useRef(null),m=r.useRef(null),h=(1+(null!==(n=null===(t=null==l?void 0:l.columnGroupingSets)||void 0===t?void 0:t.length)&&void 0!==n?n:0))*yn,b=pn(r.useState({data:null,rowCount:null,columnRenderers:[],width:0,height:0,columnHeaderHeight:h,columnWidths:[],columnWidthSum:0,columnNames:[],rowHeight:28,rowHeaderWidth:0,scrollTop:0,scrollLeft:0,firstVisibleRow:0,visibleRows:100,overscanColumnCount:0,overscanRowCount:10}),2),p=b[0],_=b[1],y=r.useCallback((function(e){var t=Math.min(Math.trunc(e.scrollTop*e.verticalScaling/p.rowHeight),d),n=d-t,r=Math.min(Math.trunc(e.clientHeight/p.rowHeight),n);_((function(n){return bn(bn({},n),{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,firstVisibleRow:t,visibleRows:r})}))}),[p.rowHeight]),g=r.useCallback((function(){var e;if(null!=u){var t=p.firstVisibleRow,n=p.visibleRows,r=Math.min(t+n,d);u((new Jt).withRange(t,r-t,128).withOrdering((null===(e=p.data)||void 0===e?void 0:e.request.ordering)||null))}}),[p.firstVisibleRow,p.visibleRows,p.data,u]),w=r.useCallback((function(e){var t,n=e.rowStopIndex-e.rowStartIndex+1;if(!p.data||!l)return(0,tn.Fv)(e);var r=p.data.result.schema.fields.findIndex((function(e){return"__duckdb__nesting_depth"===e.name})),a=null;-1!==r&&(a={rowLevel:p.data.result.getChildAt(r).toArray(),maxLevel:null===(t=l.rowGroupingSets)||void 0===t?void 0:t.reduce((function(e,t){return Math.max(e,t.length)}),0)});var o=p.data.request;if(o.includesRange(e.rowStartIndex,n))return vn(p.data,p.columnRenderers,e,a);if(!o.intersectsRange(e.rowStartIndex,n))return(0,tn.Fv)(e);var i=Math.min(o.begin,d),s=Math.min(o.end,d),c=e.rowStartIndex,u=e.rowStopIndex+1,f=[];c<i&&(e.rowStartIndex=c,e.rowStopIndex=i-1,f=(0,tn.Fv)(e));var m=[];u>=s&&(e.rowStartIndex=s,e.rowStopIndex=u,m=(0,tn.Fv)(e));var h=[];return i<s&&(e.rowStartIndex=Math.max(c,i),e.rowStopIndex=Math.min(u,s-1),h=vn(p.data,p.columnRenderers,e,a)),e.rowStartIndex=c,e.rowStopIndex=u,f.concat(h).concat(m)}),[null==p?void 0:p.data,null==p?void 0:p.columnRenderers]),v=r.useCallback((function(e){return e.index<p.columnWidths.length?p.columnWidths[e.index]:0}),[p.columnWidths]);if(r.useEffect((function(){var t,n,r,a;if(c!==p.data||e.width!=p.width||e.height!=p.height)if(c&&l){var o=_n([],pn(p.columnRenderers),!1);c!==p.data&&(o=function(e,t){for(var n=[],r=0;r<e.dataColumns;++r){var a=ln.ReadFrom(e,t.result,r);n.push(a)}return n}(l,c));var i=[],s=[],u=0;try{for(var b=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),y=b.next();!y.done;y=b.next()){var g=y.value,w=g.getLayoutInfo(),v=8*Math.min(w.valueMaxWidth,w.valueAvgWidth+5)+20,E=8*w.headerWidth+32;E>v&&(v=Math.min(E,v+30)),v=Math.ceil(v),i.push(v),u+=v,s.push(g.getColumnName())}}catch(e){t={error:e}}finally{try{y&&!y.done&&(n=b.return)&&n.call(b)}finally{if(t)throw t.error}}if(u<e.width){var T=(e.width-u)/i.length;u=0;for(var S=0;S<i.length;++S)i[S]=i[S]+T,u+=i[S]}var R=i.length!=p.columnWidths.length;if(!R)for(S=0;S<i.length;++S)R||(R=Math.abs(i[S]/p.columnWidths[S]-1)>.2);_((function(t){return bn(bn({},t),{data:c,rowCount:d,columnRenderers:o,width:e.width,height:e.width,columnHeaderHeight:h,columnWidths:R?i:p.columnWidths,columnWidthSum:R?u:p.columnWidthSum,columnNames:s})})),R&&(null===(r=f.current)||void 0===r||r.recomputeGridSize(),null===(a=m.current)||void 0===a||a.recomputeGridSize())}else _((function(t){return bn(bn({},t),{data:null,rowCount:d,columnRenderers:[],width:e.width,height:e.height,columnHeaderHeight:h,columnWidths:[],columnWidthSum:0,columnNames:[],rowHeaderWidth:0})}))}),_n([l,c,d],pn(Object.values(e)),!1)),null==l||null==c||null==u||null==d)return r.createElement("div",null);for(var E=[],T=0,S=0;T<l.columnGroupingSets.length;++T){for(var R=l.columnGroupingSets[T],N=[],k=-p.scrollLeft,I=0;I<R.length;++I){var A=R[I];if(S<A.spanBegin){for(var C=0;S<A.spanBegin;++S)C+=null!==(a=p.columnWidths[S])&&void 0!==a?a:30;N.push(r.createElement("div",{key:T*p.columnWidths.length+S,className:dn,style:{position:"absolute",left:k,top:T*yn,height:yn,width:C}})),k+=C}for(var O=0;S<A.spanBegin+A.spanSize;++S)O+=null!==(o=p.columnWidths[S])&&void 0!==o?o:30;N.push(r.createElement("div",{key:T*p.columnWidths.length+S,className:un,style:{position:"absolute",left:k,top:T*yn,height:yn,width:O}},r.createElement("span",{className:fn},A.title))),k+=O}if(S<l.dataColumns){for(C=0;S<l.dataColumns;++S)C+=null!==(i=p.columnWidths[S])&&void 0!==i?i:30;N.push(r.createElement("div",{key:T*p.columnWidths.length+S,className:dn,style:{position:"absolute",left:k,top:T*yn,height:yn,width:C}})),k+=C}E.push(r.createElement("div",{key:T,className:cn},N))}var F=[];for(T=0,k=-p.scrollLeft;T<p.columnRenderers.length;++T){var x=null!==(s=p.columnWidths[T])&&void 0!==s?s:30;F.push(r.createElement("div",{key:T,className:un,style:{position:"absolute",left:k,top:l.columnGroupingSets.length*yn,height:yn,width:x}},r.createElement("span",{className:fn},p.columnRenderers[T].getColumnName()))),k+=x}E.push(r.createElement("div",{key:l.columnGroupingSets.length,className:cn},F));var L=e.height-p.columnHeaderHeight,P=e.width;return r.createElement("div",{className:"gTVw8ISt8ZQOqzNQzwF1",style:{display:"grid",gridTemplateRows:"".concat(p.columnHeaderHeight,"px ").concat(L,"px"),gridTemplateColumns:"".concat(P,"px")}},r.createElement(tn.rj,{ref:m,className:"nxeK0S9aH2jt0JWS6aLp",width:P-2,height:L-2,columnWidth:v,columnCount:l.dataColumns,rowHeight:p.rowHeight,rowCount:p.rowCount||0,scrollTop:p.scrollTop,scrollLeft:p.scrollLeft,overscanColumnCount:p.overscanColumnCount,overscanRowCount:p.overscanRowCount,cellRenderer:gn,cellRangeRenderer:w,dataRef:p.data}),r.createElement(on,{className:"gcyPTIVj2xuGX2XV2H5K",style:{width:P,height:L},innerWidth:p.columnWidthSum,innerHeight:(p.rowCount||0)*p.rowHeight,onScrollFrame:y,onScrollStop:g}),r.createElement("div",{className:"dIewPluPhdKvqJgWKgAA"},E))},function(e){return r.createElement(tn.qj,null,(function(t){var n=t.height,a=t.width;return r.createElement(Tn,hn({},Object.assign({},e,{width:a,height:n})))}))});var Tn,Sn,Rn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i};function Nn(e){var t=Rn([1e3,"k"],2),n=t[0],r=t[1],a=Math.log(e)/Math.log(n)|0;return Number((e/Math.pow(n,a)).toFixed(2))+(a?" ".concat("".concat(r,"MGTPEZY")[a-1]):"")}!function(e){e[e.SI=0]="SI",e[e.IEC=1]="IEC"}(Sn||(Sn={}));const kn="J8invAMEuObGAzNu0f6u";var In,An=function(e){var t=r.useContext(Qt),n=r.useContext(Kt),a=r.useContext(Vt);return null==e.table||null==n||null==t?r.createElement("div",null):r.createElement("div",{className:"rPKIIJIAwJMl91Nktl0c"},r.createElement("div",{className:"GXyAKbjaplY8pnQAYQVm"},r.createElement(En,null)),e.stats&&r.createElement("div",{className:"vxmPaddovul3fD1A7Qjw"},r.createElement("div",{className:kn},"Scans: ∑ ",Nn(a.resultRows)," rows, ∑ ",function(e,t){void 0===t&&(t=Sn.SI);var n=Rn(t===Sn.SI?[1e3,"k","B"]:[1024,"K","iB"],3),r=n[0],a=n[1],o=n[2],i=Math.log(e)/Math.log(r)|0,s=Number((e/Math.pow(r,i)).toFixed(2));return"".concat(s," ").concat(i?"".concat(a,"MGTPEZY")[i-1]+o:"byte".concat(1!==s?"s":""))}(a.resultBytes),", ∅ ",Math.round(a.queryExecutionTotalMs/a.queryCount*100)/100," ms"),r.createElement("div",{className:kn},"Table: ",Nn(t||0)," rows")))},Cn=function(e){var t,n=qt();return null==e.connection||null==n?r.createElement("div",null):r.createElement(Yt,{connection:e.connection,table:n},r.createElement(en,{connection:e.connection,table:n,request:(new Jt).withRange(0,128).withOrdering(null!==(t=e.ordering)&&void 0!==t?t:null)},r.createElement(An,{table:n,stats:e.stats})))},On=function(){return On=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},On.apply(this,arguments)},Fn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},xn=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ln=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e[e.COUNT=0]="COUNT",e[e.SUM=1]="SUM",e[e.AVG=2]="AVG",e[e.MIN=3]="MIN",e[e.MAX=4]="MAX"}(In||(In={}));var Pn=r.createContext(null),Dn=function(e){var t=r.useContext(Pn),n=Gt(),a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}(r.useState({name:null,inputTable:null,pivotTable:null,groupRowsBy:null,groupColumnsBy:null,aggregates:null,stalePivotMetadata:!1,epochInputColumnGroups:null,epochInputRows:null,epochPivotTable:0,columnGroups:null}),2),o=a[0],i=a[1],s=r.useRef(!1);return r.useEffect((function(){return function(){e.connection&&e.connection.query("DROP TABLE IF EXISTS ".concat(e.name))}}),[]),r.useEffect((function(){if(e.connection&&e.table&&!s.current&&!e.groupRowsBy.isEmpty()&&!e.aggregates.isEmpty())if(e.table===o.inputTable&&e.groupColumnsBy===o.groupColumnsBy&&t===o.epochInputColumnGroups){var r,a=o.stalePivotMetadata||e.groupRowsBy!==o.groupRowsBy||e.aggregates!==o.aggregates;if(a||n!=o.epochInputRows){s.current=!0;var l=null==o.groupColumnsBy||o.groupColumnsBy.isEmpty()||null==o.columnGroups?function(e,t,n){for(var r,a,o,i,s,l=t.toArray(),c=[[]],u=[[]],d=0;d<l.length;++d){for(var f=[],m=[],h=0;h<=d;++h)m.push(h),f.push(l[h].alias||l[h].expression);c.push(f),u.push(m)}var b=t.map((function(e){return"".concat(e.expression," AS ").concat(e.alias)})).join(","),p=[];try{for(var _=Ln(c),y=_.next();!y.done;y=_.next()){var g=y.value.join(",");p.push("(".concat(g,")"))}}catch(e){r={error:e}}finally{try{y&&!y.done&&(a=_.return)&&a.call(_)}finally{if(r)throw r.error}}var w=[],v=l.map((function(e){return e.alias})),E=0;try{for(var T=Ln(n),S=T.next();!S.done;S=T.next()){var R=S.value,N=R.expression,k="";switch(R.func){case In.AVG:k="avg";break;case In.SUM:k="sum";break;case In.MIN:k="min";break;case In.MAX:k="max";break;case In.COUNT:k="count"}var I=null!==(s=R.alias)&&void 0!==s?s:"p_".concat(E);w.push("".concat(k,"(").concat(N,") AS ").concat(I)),v.push(R.alias||N),E+=1}}catch(e){o={error:e}}finally{try{S&&!S.done&&(i=T.return)&&i.call(T)}finally{if(o)throw o.error}}var A=t.map((function(e){return"".concat(e.alias," DESC NULLS FIRST")})).join(","),C=t.map((function(e){return"(".concat(e.alias," IS NOT NULL)::INTEGER")})).join(" + ");return{text:"SELECT ".concat(b,", ").concat(w,", (").concat(C,") AS ").concat("__duckdb__nesting_depth"," FROM ").concat(Mt(e)," GROUP BY GROUPING SETS (").concat(p,") ORDER BY ").concat(A),columnAliases:v,columnGroupingSets:[],rowGroupingSets:u,dataColumns:v.length}}(o.inputTable,e.groupRowsBy,e.aggregates):function(e,t,n,r,a){var o,i,s,l,c,u;if(r.numCols!=n.count())throw new Error("unexpected number of column pivots");for(var d=a.count(),f=t.toArray(),m=[[]],h=[[]],b=0;b<f.length;++b){for(var p=[],_=[],y=0;y<=b;++y)_.push(y),p.push(f[y].alias||f[y].expression);m.push(p),h.push(_)}var g=t.map((function(e){return"".concat(e.expression," AS ").concat(e.alias)})).join(","),w=[];try{for(var v=Ln(m),E=v.next();!E.done;E=v.next()){var T=E.value.join(",");w.push("(".concat(T,")"))}}catch(e){o={error:e}}finally{try{E&&!E.done&&(i=v.return)&&i.call(v)}finally{if(o)throw o.error}}for(var S=[],R=[[]],N=f.map((function(e){return e.alias||e.expression})),k=0;k<Math.min(r.numRows,100);k+=1){var I=[],A=[],C=0;try{for(var O=(s=void 0,Ln(n)),F=O.next();!F.done;F=O.next()){var x=F.value,L=e.columnNames[x],P=e.columnTypes[x],D=r.getChildAt(C);C+=1;var M=D.get(k),U=void 0;switch(P.typeId){case J.Dy.Bool:case J.Dy.Int:case J.Dy.Int8:case J.Dy.Int16:case J.Dy.Int32:case J.Dy.Int64:case J.Dy.Uint8:case J.Dy.Uint16:case J.Dy.Uint32:case J.Dy.Uint64:case J.Dy.Float32:case J.Dy.Float64:U=M.toString(),I.push("".concat(L," = ").concat(U));break;case J.Dy.Utf8:U=M.toString(),I.push("".concat(L," = '").concat(U,"'"))}A.push(U)}}catch(e){s={error:e}}finally{try{F&&!F.done&&(l=O.return)&&l.call(O)}finally{if(s)throw s.error}}R[0].push({title:A.join(","),spanBegin:f.length+k*d,spanSize:d}),b=0;try{for(var j=(c=void 0,Ln(a)),B=j.next();!B.done;B=j.next()){var G=B.value,W=G.expression,q="";switch(G.func){case In.AVG:q="avg";break;case In.SUM:q="sum";break;case In.MIN:q="min";break;case In.MAX:q="max";break;case In.COUNT:q="count"}S.push("".concat(q,"(CASE WHEN ").concat(I.join(" AND ")," THEN ").concat(W," END) AS p_").concat(k,"_").concat(b)),N.push(G.alias||W),b+=1}}catch(e){c={error:e}}finally{try{B&&!B.done&&(u=j.return)&&u.call(j)}finally{if(c)throw c.error}}}var H=t.map((function(e){return"".concat(e.alias," DESC NULLS FIRST")})).join(","),Q=t.map((function(e){return"(".concat(e.alias," IS NOT NULL)::INTEGER")})).join(" + ");return{text:"SELECT ".concat(g,", ").concat(S,", (").concat(Q,") AS ").concat("__duckdb__nesting_depth"," FROM ").concat(Mt(e)," GROUP BY GROUPING SETS (").concat(w,") ORDER BY ").concat(H),columnAliases:N,columnGroupingSets:R,rowGroupingSets:h,dataColumns:N.length}}(o.inputTable,e.groupRowsBy,o.groupColumnsBy,o.columnGroups,e.aggregates),c="\n                BEGIN TRANSACTION;\n                DROP TABLE IF EXISTS ".concat(e.name,";\n                CREATE TABLE ").concat(e.name," AS ").concat(l.text,";\n                COMMIT;\n            ");(function(t){return Fn(void 0,void 0,void 0,(function(){var n;return xn(this,(function(r){switch(r.label){case 0:return[4,e.connection.query(c)];case 1:return r.sent(),n=o.pivotTable,a?[4,Ut(e.connection,{tableSchema:null,tableName:e.name})]:[3,3];case 2:n=r.sent(),n=On(On({},n),{columnGroupingSets:l.columnGroupingSets,columnAliases:l.columnAliases,rowGroupingSets:l.rowGroupingSets,dataColumns:n.dataColumns-1}),r.label=3;case 3:return s.current=!1,i((function(r){return On(On({},r),{pivotTable:n,groupRowsBy:e.groupRowsBy,aggregates:e.aggregates,stalePivotMetadata:!1,epochInputRows:t,epochPivotTable:o.epochPivotTable+1,ownEpochRows:t})})),[2]}}))}))})(n).catch((function(e){return console.error(e)}))}}else if(e.groupColumnsBy.isEmpty())i((function(n){return On(On({},n),{name:e.name,inputTable:e.table,groupColumnsBy:e.groupColumnsBy,stalePivotMetadata:!0,epochInputColumnGroups:t,columnGroups:null})}));else{s.current=!0;var u=e.groupColumnsBy.map((function(t){return e.table.columnNames[t]})).join(","),d="SELECT DISTINCT ".concat(u," FROM ").concat(Mt(e.table)," ORDER BY ").concat(u);(r=t,Fn(void 0,void 0,void 0,(function(){var t;return xn(this,(function(n){switch(n.label){case 0:return[4,e.connection.query(d)];case 1:return t=n.sent(),s.current=!1,i((function(n){return On(On({},n),{name:e.name,inputTable:e.table,groupColumnsBy:e.groupColumnsBy,stalePivotMetadata:!0,epochInputColumnGroups:r,columnGroups:t||null})})),[2]}}))}))).catch((function(e){return console.error(e)}))}}),[o,e.name,e.connection,e.table,e.groupColumnsBy,e.groupRowsBy,e.aggregates,t,n]),o.stalePivotMetadata?r.createElement("div",null):r.createElement(jt.Provider,{value:o.epochPivotTable},r.createElement(Bt.Provider,{value:o.epochPivotTable},r.createElement(Wt.Provider,{value:o.pivotTable},e.children)))},Mn=n(1244),Un=n(4359),jn=n(134),Bn=n(5510);const Gn="PPLdJUKgXbDUo4OJZUvA",Wn="ohDbYnA5UMIkinVBNPFV";var qn=n(3200),Hn=function(){return Hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Hn.apply(this,arguments)},Qn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},Yn="table_column",Kn="column_group",Vn="row_group",zn="value";function Jn(e){var t=Qn(jn.c((function(){return{type:e.type,item:function(){return{id:e.id,text:e.children}},collect:function(e){return{isDragging:e.isDragging()}},end:function(t,n){var r=n.getDropResult();if(null!=r){if(r.type===e.type)return;e.modify({sourceType:e.type,targetType:r.type,id:e.id})}else e.modify({sourceType:e.type,targetType:null,id:e.id})}}}),[]),2)[1];return r.createElement("div",{ref:t,className:e.className},e.children)}function Xn(e){var t,n,a=Bn.L((function(){return{accept:[Vn,Yn,Kn,zn],drop:function(t){return{type:e.itemType}}}})),o=[],i=0;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.values),l=s.next();!l.done;l=s.next()){var c=l.value;o.push(r.createElement(Jn,{key:i,id:i,className:e.itemClass,type:e.itemType,modify:e.modify},e.valueRenderer(c))),i+=1}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return r.createElement("div",{className:e.listClass,ref:a[1]},o)}var Zn=function(e){var t,n=Ct(),a=qt(),o=Qn(r.useState({groupRowsBy:ht.aV([{expression:"name",alias:"name"}]),groupColumnsBy:ht.aV(),values:ht.aV([{expression:"bid",alias:"bid",func:In.SUM},{expression:"ask",alias:"ask",func:In.SUM}])}),2),i=o[0],s=o[1],l=r.useCallback((function(e){var t=function(e,t,n){var r=a.columnNames[t],o=a.columnAliases[t]||a.columnNames[t];switch(n){case Yn:return e;case zn:return e.values.findIndex((function(e){return e.expression===r}))>=0?e:Hn(Hn({},e),{values:e.values.push({expression:r,func:In.SUM,alias:o})});case Vn:return e.groupRowsBy.findIndex((function(e){return e.expression===r}))>=0?e:Hn(Hn({},e),{groupRowsBy:e.groupRowsBy.push({expression:r,alias:o})});case Kn:return e.groupColumnsBy.findIndex((function(e){return e===t}))>=0?e:Hn(Hn({},e),{groupColumnsBy:e.groupColumnsBy.push(t)})}return e};switch(e.sourceType){case Yn:if(null==e.targetType)return;return void s((function(n){return t(n,e.id,e.targetType)}));case zn:return null==e.targetType?void s((function(t){return Hn(Hn({},t),{values:t.values.delete(e.id)})})):void 0;case Kn:return null==e.targetType?void s((function(t){return Hn(Hn({},t),{groupColumnsBy:t.groupColumnsBy.delete(e.id)})})):void s((function(n){return Hn(Hn({},t(n,i.groupColumnsBy.get(e.id),e.targetType)),{groupColumnsBy:n.groupColumnsBy.delete(e.id)})}));case Vn:if(null==e.targetType)return void s((function(t){return Hn(Hn({},t),{groupRowsBy:t.groupRowsBy.splice(e.id,1)})}));var n=i.groupRowsBy.get(e.id).expression,r=null==a?void 0:a.columnNames.findIndex((function(e){return e==n}));return void 0!==r&&r>=0?void s((function(n){return Hn(Hn({},t(n,r,e.targetType)),{groupRowsBy:n.groupRowsBy.splice(e.id,1)})})):void s((function(t){return Hn(Hn({},t),{groupRowsBy:t.groupRowsBy.splice(e.id,1)})}))}}),[a,i]),c=i.values;return c.isEmpty()&&(c=ht.aV((null===(t=null==a?void 0:a.columnNames)||void 0===t?void 0:t.map((function(e){return{expression:e,alias:null,func:In.SUM}})))||[])),r.createElement("div",{className:"s4HpGfkwd8NmBZMD6qVZ"},r.createElement("div",{className:"BVHfOl78xyXBwCYn8teG"},r.createElement("svg",{className:"rHNyp0N2_n1DFyomyD1Q",width:"24px",height:"24px"},r.createElement("use",{xlinkHref:"".concat(qn,"#sym")}))),r.createElement("div",{className:"NnAuXHvPa4WFgnFgNGhG"},r.createElement("div",{className:Gn},"Table"),r.createElement(Xn,{listClass:"r3fwEZo2_qwPdGUDc4Od",itemClass:"eQEV5BupYcSiajCco_Nw",itemType:Yn,values:(null==a?void 0:a.columnNames)||[],valueRenderer:function(e){return e},modify:l})),r.createElement("div",{className:"Y5WON_g4QlbEI7JxawqE"},r.createElement("div",{className:Gn},"Column Groups"),r.createElement(Xn,{listClass:"nMlzzrc2wNJYLpGXOjoy",itemClass:"Lak46XkMG3___43VsmH9",itemType:Kn,values:i.groupColumnsBy||[],valueRenderer:function(e){var t;return(null===(t=null==a?void 0:a.columnNames[e])||void 0===t?void 0:t.toString())||""},modify:l})),r.createElement("div",{className:"cKodsdOeuNl4wsVyg3Nw"},r.createElement("div",{className:Wn},"Row Groups"),r.createElement(Xn,{listClass:"oEIhbe5oQr4RuU8NXTKK",itemClass:"zS_CZ9yCy3KJa8o5OnIF",itemType:Vn,values:i.groupRowsBy||[],valueRenderer:function(e){return e.alias},modify:l})),r.createElement("div",{className:"nORouj_gCKkQyIAjFacl"},r.createElement("div",{className:Wn},"Values"),r.createElement(Xn,{listClass:"TN6zOugKtNdE1EmenZub",itemClass:"na6c9PhRMpazLMmU7HWK",itemType:zn,values:i.values||[],valueRenderer:function(e){return e.alias||e.expression},modify:l})),r.createElement("div",{className:"tKvzOgrM3UV72qFXqUAB"},i.groupColumnsBy.isEmpty()&&i.groupRowsBy.isEmpty()?r.createElement(Cn,{connection:n,ordering:[{columnIndex:0},{columnIndex:2,descending:!0}]}):r.createElement(Dn,{name:"pivot",connection:n,table:a,groupRowsBy:i.groupRowsBy,groupColumnsBy:i.groupColumnsBy,aggregates:c},r.createElement(Cn,{connection:n,stats:!0}))))};const $n={demo_header_container:"E8iVoLxYmpRxgKuXKv3q",demo_setup:"Bx9LY_h6HkVlGXNhxiZ8",demo_setup_icon_container:"leveu5chZFhJjaBQVfjv",demo_setup_icon:"SoQ73Xx6xSU94BwpyUD4",demo_setup_channel:"CuWJf6k6v_45sO0wAEvq",demo_setup_perf:"F0W7EJOQ5EKiRq_Xalgm",demo_setup_config:"j4pVFHv1zHfROq6FJ1KA",table_page:"_fjzO3R2NHsvCuHYD5JA",levels_container:"YcbjMPaVQWZ1kvlY2l0B",level_set:"OthGfJdMcB8s9iT2QZtM",level_unset:"KfS4wqXv7z7gJn642Qax",level_label:"w8N2BGpLBxNidsIRo7Rn"};var er=n(8972),tr=n(236),nr=n(8725),rr=n(8816),ar=n(2990),or=n(7094),ir=["AAPL.N","MSFT.N","AMZN.N","GOOGL.N","FB.N","TSLA.N","BABA.N","TSM.N","V.N","NVDA.N","JPM.N","JNJ.N","WMT.N","UNH.N","MA.N","BAC.N","DIS.N","ASML.N","ADBE.N","CMCSA.N","NKE.N","XOM.N","TM.N","KO.N","ORCL.N","NFLX.N"],sr=["Homer","Marge","Bart","Lisa","Maggie","Barney","Ned","Moe"],lr=function(){function e(){this.id=0,this.schema=new er.V([new er.g("name",new Pt.di),new er.g("client",new Pt.di),new er.g("last_update",new Pt.HA),new er.g("change",new Pt.Dh),new er.g("bid",new Pt.Dh),new er.g("ask",new Pt.Dh),new er.g("volume",new Pt.Dh)])}return e.prototype.genRandom=function(){for(var e=0,t=0;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)},e.prototype.genBatch=function(e){for(var t=new tr.g({type:new Pt.di}),n=new tr.g({type:new Pt.di}),r=new nr.gf({type:new Pt.HA}),a=new rr.OY({type:new Pt.Dh}),o=new rr.OY({type:new Pt.Dh}),i=new rr.OY({type:new Pt.Dh}),s=new rr.OY({type:new Pt.Dh}),l=0;l<e;++l)t.append(ir[Math.floor(Math.random()*ir.length)]),n.append(sr[Math.floor(Math.random()*sr.length)]),r.append((new Date).getTime()),a.append(10*this.genRandom()),o.append(5*this.genRandom()+95),i.append(5*this.genRandom()+105),s.append(5*this.genRandom()+105);return new ar.Q(this.schema,or._l({type:new Pt.AU(this.schema.fields),children:[t.finish().flush(),n.finish().flush(),r.finish().flush(),a.finish().flush(),o.finish().flush(),i.finish().flush(),s.finish().flush()]}))},e}(),cr=n(4394),ur=function(){return ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ur.apply(this,arguments)},dr=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},fr=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},mr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},hr=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},br=[.1,.2,.5,1],pr=[0,.03,.1,.2],_r=[0,.1,.5,1],yr=[10,100,1e3,1e4],gr=[1e3,1e4,1e5,1e6],wr=function(e){return r.createElement("div",{className:$n.levels_container},hr([],mr(Array(e.current)),!1).map((function(t,n){return r.createElement("div",{key:n,className:$n.level_set,onClick:function(){return e.select(1==n&&e.current==n?1:n)}})})),hr([],mr(Array(3-e.current)),!1).map((function(t,n){return r.createElement("div",{key:e.current+n,className:$n.level_unset,onClick:function(){return e.select(e.current+n+1)}})})))},vr=n(2833),Er=n(289);const Tr={container:"MgE8UmO_jho2r_HikcFG",navbar:"Ik38kjC8InfXiyMIklkB",tabs:"bm9W3OhPnGkKhLwJ516g",logo:"Pr00W8Wp3LmJVbOJUr0W",tabNavbar:"iJCjJPuh9KQo8iwCNd16",tab:"yzjBuH6YN7NFao36gSMl",tabButton:"SCfU8XvxNRkZroE_3kvE",tabTextIcon:"UI3cWVGIxV4XnPJcJcDQ",active:"YnI4T386XnxghA5ap8dg"};var Sr,Rr=n(6513),Nr=n(9643),kr=n(2593),Ir=function(e){var t;return r.createElement("div",{key:e.route,className:c()(Tr.tab,(t={},t[Tr.active]=e.location==e.route,t))},e.external?r.createElement("a",{href:e.route,target:"blank"},r.createElement("div",{className:Tr.tabButton},e.text?r.createElement("div",{className:Tr.tabTextIcon},e.text):r.createElement("svg",{className:Tr.tabIcon,width:"18px",height:"18px"},r.createElement("use",{xlinkHref:"".concat(e.icon,"#sym")})))):r.createElement(vr.rU,{to:e.route},r.createElement("div",{className:Tr.tabButton},e.text?r.createElement("div",{className:Tr.tabTextIcon},e.text):r.createElement("svg",{className:Tr.tabIcon,width:"18px",height:"18px"},r.createElement("use",{xlinkHref:"".concat(e.icon,"#sym")})))))},Ar=function(e){var t=(0,Er.TH)();return r.createElement("div",{className:Tr.navbar},r.createElement("div",{className:Tr.logo},r.createElement("svg",{width:"32px",height:"32px"},r.createElement("use",{xlinkHref:"".concat(Rr,"#sym")}))),r.createElement("div",{className:Tr.tabs},r.createElement(Ir,{route:"/",location:t.pathname,icon:Nr}),r.createElement(Ir,{route:"docs/modules/index.html",location:t.pathname,icon:kr,external:!0})))},Cr=function(e){return"true"===(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}((0,vr.lr)(),1)[0].get("fullscreen")||"")?r.createElement(r.Fragment,null,"props.children"):r.createElement("div",{className:Tr.container},r.createElement(Ar,null),r.createElement("div",{className:Tr.page},e.children))},Or=(n(5098),n(8446)),Fr=n(6932),xr=n(9296),Lr={mvp:{mainModule:Or,mainWorker:new URL(n(7379),n.b).toString()},eh:{mainModule:Fr,mainWorker:new URL(n(779),n.b).toString()},coi:{mainModule:xr,mainWorker:new URL(n(3664),n.b).toString(),pthreadWorker:new URL(n(6918),n.b).toString()}},Pr=new class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}}(ae.WARNING),Dr=((null===(Sr=null===window||void 0===window?void 0:window.location)||void 0===Sr?void 0:Sr.pathname)||"").match(/(.*)(\/versus|\/docs\/.*|\/)$/),Mr="/";null!=Dr&&Dr.length>=2&&(Mr=Dr[1]);var Ur=document.getElementById("root");a.render(r.createElement(r.StrictMode,null,r.createElement((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}(r.useState(new bt),2),n=t[0],a=t[1],o=r.useRef(null),i=r.useCallback((function(){return pt(void 0,void 0,void 0,(function(){return _t(this,(function(t){switch(t.label){case 0:return n.error?[2,null]:n.value?[2,n.value]:o.current?[4,o.current]:[3,2];case 1:case 3:return[2,t.sent()];case 2:return o.current=pt(void 0,void 0,void 0,(function(){var t,n;return _t(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),a((function(e){return e.updateRunning()})),[4,ke(e.bundles)];case 1:return t=r.sent(),o.current=null,a((function(e){return e.completeWith(t)})),[2,t];case 2:return n=r.sent(),o.current=null,console.error(n),a((function(e){return e.failWith(n)})),[2,null];case 3:return[2]}}))})),[4,o.current]}}))}))}),[e.bundles]);return r.createElement(yt.Provider,{value:e.logger},r.createElement(wt.Provider,{value:i},r.createElement(gt.Provider,{value:n},e.children)))}),{logger:Pr,bundles:Lr},r.createElement((function(e){var t=r.useContext(yt),n=r.useContext(wt),a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}(r.useState(new bt),2),i=a[0],s=a[1],l=r.useRef(null);r.useEffect((function(){return function(){null!=l.current&&(l.current.terminate(),l.current=null)}}),[]);var c=r.useRef(null),u=r.useCallback((function(){return vt(void 0,void 0,void 0,(function(){return Et(this,(function(r){switch(r.label){case 0:return c.current?[4,c.current]:[3,2];case 1:case 3:return[2,r.sent()];case 2:return c.current=vt(void 0,void 0,void 0,(function(){var r,a,i,l;return Et(this,(function(c){switch(c.label){case 0:return[4,n()];case 1:if(null==(r=c.sent()))return s((function(e){return e.failWith("invalid bundle")})),[2,null];try{a=new Worker(r.mainWorker),i=new class{constructor(e,t=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),null!=t&&this.attach(t)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise(((e,t)=>{this._workerShutdownResolver=e}))}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,t=[]){if(!this._worker)return void console.error("cannot send a message since the worker is not set!");let n=this._nextMessageId++;return this._pendingRequests.set(n,e),this._worker.postMessage({messageId:n,type:e.type,data:e.data},t),await e.promise}onMessage(e){let t=e.data;switch(t.type){case"LOG":return void this._logger.log(t.data);case"INSTANTIATE_PROGRESS":for(let e of this._onInstantiationProgress)e(t.data);return}let n=this._pendingRequests.get(t.requestId);if(n){if(this._pendingRequests.delete(t.requestId),"ERROR"==t.type){let e=new Error(t.data.message);return e.name=t.data.name,e.stack=t.data.stack,void n.promiseRejecter(e)}switch(n.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if("OK"==t.type)return void n.promiseResolver(t.data);break;case"INSTANTIATE":if(this._onInstantiationProgress=[],"OK"==t.type)return void n.promiseResolver(t.data);break;case"GLOB_FILE_INFOS":if("FILE_INFOS"==t.type)return void n.promiseResolver(t.data);break;case"GET_VERSION":if("VERSION_STRING"==t.type)return void n.promiseResolver(t.data);break;case"GET_FEATURE_FLAGS":if("FEATURE_FLAGS"==t.type)return void n.promiseResolver(t.data);break;case"GET_TABLE_NAMES":if("TABLE_NAMES"==t.type)return void n.promiseResolver(t.data);break;case"TOKENIZE":if("SCRIPT_TOKENS"==t.type)return void n.promiseResolver(t.data);break;case"COPY_FILE_TO_BUFFER":if("FILE_BUFFER"==t.type)return void n.promiseResolver(t.data);break;case"EXPORT_FILE_STATISTICS":if("FILE_STATISTICS"==t.type)return void n.promiseResolver(t.data);break;case"CONNECT":if("CONNECTION_INFO"==t.type)return void n.promiseResolver(t.data);break;case"RUN_PREPARED":case"RUN_QUERY":if("QUERY_RESULT"==t.type)return void n.promiseResolver(t.data);break;case"SEND_PREPARED":case"SEND_QUERY":if("QUERY_START"==t.type)return void n.promiseResolver(t.data);break;case"FETCH_QUERY_RESULTS":if("QUERY_RESULT_CHUNK"==t.type)return void n.promiseResolver(t.data);break;case"CREATE_PREPARED":if("PREPARED_STATEMENT_ID"==t.type)return void n.promiseResolver(t.data)}n.promiseRejecter(new Error(`unexpected response type: ${t.type.toString()}`))}else console.warn(`unassociated response: [${t.requestId}, ${t.type.toString()}]`)}onError(e){console.error(e),console.error(`error in duckdb worker: ${e.message}`),this._pendingRequests.clear()}onClose(){this._workerShutdownResolver(null),0==this._pendingRequests.size?this._pendingRequests.clear():console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`)}async reset(){let e=new fe("RESET",null);return await this.postTask(e)}async ping(){let e=new fe("PING",null);await this.postTask(e)}async dropFile(e){let t=new fe("DROP_FILE",e);return await this.postTask(t)}async dropFiles(){let e=new fe("DROP_FILES",null);return await this.postTask(e)}async flushFiles(){let e=new fe("FLUSH_FILES",null);return await this.postTask(e)}async instantiate(e,t=null,n=(e=>{})){this._onInstantiationProgress.push(n);let r=new fe("INSTANTIATE",[e,t]);return await this.postTask(r)}async getVersion(){let e=new fe("GET_VERSION",null);return await this.postTask(e)}async getFeatureFlags(){let e=new fe("GET_FEATURE_FLAGS",null);return await this.postTask(e)}async open(e){let t=new fe("OPEN",e);await this.postTask(t)}async tokenize(e){let t=new fe("TOKENIZE",e);return await this.postTask(t)}async connectInternal(){let e=new fe("CONNECT",null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new class{constructor(e,t){this._bindings=e,this._conn=t}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.runQuery(this._conn,e),n=V.so.from(t);return console.assert(n.isSync()),console.assert(n.isFile()),new z.iA(n)}async send(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let t=await this._bindings.sendQuery(this._conn,e),n=new ce(this._bindings,this._conn,t),r=await V.so.from(n);return console.assert(r.isAsync()),console.assert(r.isStream()),r}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let t=await this._bindings.createPrepared(this._conn,e);return new class{constructor(e,t,n){this.bindings=e,this.connectionId=t,this.statementId=n}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let t=await this.bindings.runPrepared(this.connectionId,this.statementId,e),n=V.so.from(t);return console.assert(n.isSync()),console.assert(n.isFile()),new z.iA(n)}async send(...e){let t=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),n=new ce(this.bindings,this.connectionId,t),r=await V.so.from(n);return console.assert(r.isAsync()),console.assert(r.isStream()),r}}(this._bindings,this._conn,t)}async insertArrowTable(e,t){let n=o.U(e,"stream");await this.insertArrowFromIPCStream(n,t)}async insertArrowFromIPCStream(e,t){await this._bindings.insertArrowFromIPCStream(this._conn,e,t)}async insertCSVFromPath(e,t){await this._bindings.insertCSVFromPath(this._conn,e,t)}async insertJSONFromPath(e,t){await this._bindings.insertJSONFromPath(this._conn,e,t)}}(this,e)}async disconnect(e){let t=new fe("DISCONNECT",e);await this.postTask(t)}async runQuery(e,t){let n=new fe("RUN_QUERY",[e,t]);return await this.postTask(n)}async sendQuery(e,t){let n=new fe("SEND_QUERY",[e,t]);return await this.postTask(n)}async fetchQueryResults(e){let t=new fe("FETCH_QUERY_RESULTS",e);return await this.postTask(t)}async getTableNames(e,t){let n=new fe("GET_TABLE_NAMES",[e,t]);return await this.postTask(n)}async createPrepared(e,t){let n=new fe("CREATE_PREPARED",[e,t]);return await this.postTask(n)}async closePrepared(e,t){let n=new fe("CLOSE_PREPARED",[e,t]);await this.postTask(n)}async runPrepared(e,t,n){let r=new fe("RUN_PREPARED",[e,t,n]);return await this.postTask(r)}async sendPrepared(e,t,n){let r=new fe("SEND_PREPARED",[e,t,n]);return await this.postTask(r)}async globFiles(e){let t=new fe("GLOB_FILE_INFOS",e);return await this.postTask(t)}async registerFileText(e,t){let n=be.encode(t);await this.registerFileBuffer(e,n)}async registerFileURL(e,t){void 0===t&&(t=e);let n=new fe("REGISTER_FILE_URL",[e,t]);await this.postTask(n)}async registerEmptyFileBuffer(e){let t=new fe("REGISTER_FILE_BUFFER",[e,new Uint8Array]);await this.postTask(t)}async registerFileBuffer(e,t){let n=new fe("REGISTER_FILE_BUFFER",[e,t]);await this.postTask(n,[t.buffer])}async registerFileHandle(e,t){let n=new fe("REGISTER_FILE_HANDLE",[e,t]);await this.postTask(n,[])}async collectFileStatistics(e,t){let n=new fe("COLLECT_FILE_STATISTICS",[e,t]);await this.postTask(n,[])}async exportFileStatistics(e){let t=new fe("EXPORT_FILE_STATISTICS",e);return await this.postTask(t,[])}async copyFileToBuffer(e){let t=new fe("COPY_FILE_TO_BUFFER",e);return await this.postTask(t)}async copyFileToPath(e,t){let n=new fe("COPY_FILE_TO_PATH",[e,t]);await this.postTask(n)}async insertArrowFromIPCStream(e,t,n){if(0==t.length)return;let r=new fe("INSERT_ARROW_FROM_IPC_STREAM",[e,t,n]);await this.postTask(r,[t.buffer])}async insertCSVFromPath(e,t,n){if(void 0!==n.columns){let e=[];for(let t in n.columns){let r=n.columns[t];e.push(he(t,r))}n.columnsFlat=e,delete n.columns}let r=new fe("IMPORT_CSV_FROM_PATH",[e,t,n]);await this.postTask(r)}async insertJSONFromPath(e,t,n){if(void 0!==n.columns){let e=[];for(let t in n.columns){let r=n.columns[t];e.push(he(t,r))}n.columnsFlat=e,delete n.columns}let r=new fe("IMPORT_JSON_FROM_PATH",[e,t,n]);await this.postTask(r)}}(t,a)}catch(e){return s((function(t){return t.failWith(e)})),[2,null]}c.label=2;case 2:return c.trys.push([2,6,,7]),[4,i.instantiate(r.mainModule,r.pthreadWorker,(function(e){try{s((function(t){return t.updateRunning(e)}))}catch(e){console.warn("progress handler failed with error: ".concat(e.toString()))}}))];case 3:return c.sent(),void 0===e.config?[3,5]:[4,i.open(e.config)];case 4:c.sent(),c.label=5;case 5:return[3,7];case 6:return l=c.sent(),s((function(e){return e.failWith(l)})),[2,null];case 7:return s((function(e){return e.completeWith(i)})),[2,i]}}))})),[4,c.current]}}))}))}),[t]);return r.createElement(St.Provider,{value:u},r.createElement(Tt.Provider,{value:i},e.children))}),null,r.createElement((function(e){var t=Rt(),n=Nt(),a=kt(r.useState(ht.aV()),2),o=a[0],i=a[1],s=kt(r.useState(ht.D5()),2),l=s[0],c=s[1],u=r.useRef(new Map),d=function(e){return n=void 0,r=void 0,o=function(){var n;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(r){switch(r.label){case 0:return u.current.get(e)?[2]:[4,t.value.connect()];case 1:return n=r.sent(),c((function(t){return t.set(e,n)})),u.current.delete(e),[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,s)}l((o=o.apply(n,r||[])).next())}));var n,r,a,o},f=r.useCallback((function(e){null!=t.value?d(e||0):t.resolving()||(n(),i(o.push(e||0)))}),[t]);return r.useEffect((function(){var e,n;if(null!=t.value){var r=o;i(ht.aV());try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),s=a.next();!s.done;s=a.next()){var l=s.value;d(l)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}}),[t,o]),r.createElement(At.Provider,{value:f},r.createElement(It.Provider,{value:l},e.children))}),null,r.createElement(vr.VK,{basename:Mr},r.createElement(Er.Z5,null,r.createElement(Er.AW,{index:!0,element:r.createElement(Cr,null,r.createElement((function(e){var t=r.useRef(null),n=Rt(),a=Nt(),o=r.useRef(null),i=r.useRef(null);r.useEffect((function(){n.resolving()||a()}),[n]),r.useEffect((function(){var e,r,a,s;console.assert(null!=t.current),e=void 0,r=void 0,s=function(){var e,r;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(a){switch(a.label){case 0:return e=new(Ft())(Lt).load(),r=new(Ft())(Lt,{weight:"bold"}).load(),[4,Promise.all([e,r])];case 1:return a.sent(),[4,ft({shellModule:xt,container:t.current,fontFamily:Lt,resolveDatabase:function(e){return null!=n.error?Promise.reject(n.error):null!=n.value?Promise.resolve(n.value):(i.current=e,new Promise((function(e,t){o.current=[e,t]})))}})];case 2:return a.sent(),[2]}}))},new((a=void 0)||(a=Promise))((function(t,n){function o(e){try{l(s.next(e))}catch(e){n(e)}}function i(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,i)}l((s=s.apply(e,r||[])).next())}))}),[]),r.useEffect((function(){if(null!=n.value){if(null!=o.current){var e=o.current[0];o.current=null,e(n.value)}}else if(null!=n.error){if(null!=o.current){var t=o.current[1];o.current=null,t(n.error)}}else null!=n.progress&&i.current&&i.current(n.progress)}),[n]);var s={padding:e.padding?"".concat(e.padding.map((function(e){return"".concat(e,"px")})).join(" ")):"0px",borderRadius:e.borderRadius?"".concat(e.borderRadius.map((function(e){return"".concat(e,"px")})).join(" ")):"0px",backgroundColor:e.backgroundColor||"transparent"};return r.createElement("div",{className:"EjwxHylAFWvFF5SjNC3S",style:s},r.createElement("div",{ref:t,className:"pmw_E9qL2vscQDnXR34u"}))}),{padding:[16,0,0,20],backgroundColor:"#333"}))}),r.createElement(Er.AW,{path:"/versus",element:r.createElement(Cr,null,r.createElement((function(e){var t,n,a,l,c=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}(r.useState({status:B.PENDING,benchmarkTable:null,benchmarks:null}),2),u=c[0],d=c[1];switch(u.status==B.PENDING&&(d((function(e){return G(G({},e),{status:B.INFLIGHT})})),t=void 0,n=void 0,l=function(){var e,t;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return[4,fetch("https://shell.duckdb.org/data/benchmarks.arrow?35")];case 1:return[4,n.sent().arrayBuffer()];case 2:return e=n.sent(),t=o.p(new Uint8Array(e)),d((function(e){var n=function(e){var t,n,r,a=[];try{for(var o=s(e),i=o.next();!i.done;i=o.next()){for(var l=i.value,c=null==l?void 0:l.tags,u=[],d=0;d<((null==c?void 0:c.length)||0);++d)u.push((null==c?void 0:c.get(d))||"");var f={key:"",benchmarkKey:"",systemKey:"",timestamp:(null==l?void 0:l.timestamp)||0,name:(null==l?void 0:l.name)||"",benchmark:(null==l?void 0:l.benchmark)||"",parameters:(null===(r=null==l?void 0:l.parameters)||void 0===r?void 0:r.toArray())||new Float64Array,system:(null==l?void 0:l.system)||"",tags:u,warning:(null==l?void 0:l.warning)||"",cycles:(null==l?void 0:l.cycles)||0,samples:(null==l?void 0:l.samples)||0,meanTime:(null==l?void 0:l.mean_time)||0,standardDeviation:(null==l?void 0:l.standard_deviation)||0,maxTime:(null==l?void 0:l.max_time)||0,minTime:(null==l?void 0:l.min_time)||0,runTime:(null==l?void 0:l.run_time)||0,totalTime:(null==l?void 0:l.total_time)||0};f.benchmarkKey="".concat(f.benchmark).concat(f.parameters.length>0?"_":"").concat(f.parameters.join("_")).replace(".",""),f.systemKey="".concat(f.system).concat(f.tags.length>0?"_":"").concat(f.tags.join("_")).replace(".",""),f.key="".concat(f.benchmarkKey,"_").concat(f.systemKey),a.push(f)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a}(t),r=function(e){var t,n,r={benchmarks:new Map,systems:new Map,entries:new Map};try{for(var a=s(e),o=a.next();!o.done;o=a.next()){var i=o.value;r.benchmarks.set(i.benchmarkKey,!0),r.systems.set(i.systemKey,!0),r.entries.set(i.key,i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}(n);return console.log(r),G(G({},e),{status:B.SUCCEEDED,table:t,benchmarks:r})})),[2]}}))},new((a=void 0)||(a=Promise))((function(e,r){function o(e){try{s(l.next(e))}catch(e){r(e)}}function i(e){try{s(l.throw(e))}catch(e){r(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,i)}s((l=l.apply(t,n||[])).next())}))),u.status){case B.PENDING:case B.INFLIGHT:return r.createElement("div",{className:"t2uGP1uugFVJ_32ghQ0w"},r.createElement(L,{active:!0}));case B.FAILED:return r.createElement("div",{className:P},"failed");case B.SUCCEEDED:return r.createElement("div",{className:P},r.createElement("div",{className:"VaXkNqRbA7MGzHjPwtUQ"},r.createElement(i,null,r.createElement("h1",null,"DuckDB-Wasm versus X"),r.createElement("p",{className:"PylUnnbgWmNWDjg2UE3Q"},"TL;DR: Consider ",r.createElement("b",null,"DuckDB-Wasm")," for efficient SQL queries, for file formats such as JSON, CSV, Arrow, Parquet, for partial file reads (locally & remote), for shared SQL queries between client and server and for larger datasets. Consider an alternative for simple queries on <= 10k tuples or if bundle size and cold startup time are more important than query performance."),r.createElement("p",{className:U},"This page outlines advantages and disadvantages of the npm library",r.createElement("a",{className:M,target:"_blank",href:"https://www.npmjs.com/package/@duckdb/duckdb-wasm",rel:"noreferrer"},"@duckdb/duckdb-wasm"),". It compares the library with the projects",r.createElement("a",{className:M,target:"_blank",href:"https://github.com/sql-js/sql.js",rel:"noreferrer"},"sql.js"),",",r.createElement("a",{className:M,target:"_blank",href:"https://github.com/uwdata/arquero",rel:"noreferrer"},"arquero")," and",r.createElement("a",{className:M,target:"_blank",href:"https://github.com/google/lovefield",rel:"noreferrer"},"lovefield")," based on features, several microbenchmarks and the TPC-H benchmark at the scale factors 0.01, 0.1, 0.25 and 0.5. It is meant to guide you through the selection process of your next data processing library for the web. All benchmarks are measured using public GitHub Actions and are therefore affected by fluctuations. Feel free to modify and extend our benchmarks",r.createElement("a",{className:M,target:"_blank",href:"https://github.com/duckdb/duckdb-wasm/tree/master/packages/benchmarks",rel:"noreferrer"},"here"),".")),r.createElement(i,null,r.createElement("h2",{className:D},"General Features"),r.createElement("p",{className:U},"DuckDB-Wasm follows the philosophy of ",r.createElement("i",null,"bundling with batteries included")," to leverage the full potential of WebAssembly as an embedded database. DuckDB-wasm implements many features that are necessary for efficient ad-hoc analytics in the browser such as a full SQL frontend and automatic Web-Worker offloading. It also comes with a powerful virtual filesystem specifically tailored to the browser that allows for partially reading files either through HTTP range requests or the HTML 5 File APIs. Additionally, DuckDB-Wasm supports a variety of file formats out-of-the-box such as CSV, JSON, Arrow and Parquet."),r.createElement("p",{className:U},"The following table provides an overview of key features in DuckDB-Wasm:"),r.createElement(x,{className:"EGnwBGgjLTyDyi3wREEg"}),r.createElement("p",{className:U},"The broad function scope comes at the price of a larger bundle size. When using the synchronous version of DuckDB-Wasm, the database requires approximately 68 KB of compressed Javascript and a 1.8 MB compressed WebAssembly Module. Modern browsers reduce the impact of the large module sizes by instantiating WebAssembly in a streaming fashion. Browsers start compiling WebAssembly modules while downloading them which can reduce the initial startup latency but won't eliminate the bandwidth requirement with cold caches."),r.createElement("p",{className:U},"DuckDB-Wasm can therefore show its strengths in situations where this initial startup latency can be concealed. DuckDB-Wasm might not ",r.createElement("i",null,"yet")," be the right tool for you, if you're aiming for a smallest-possible duration until your website is fully interactive. Reducing this latency is still subject of ongoing research, please share your thoughts with us",r.createElement("a",{className:M,target:"_blank",href:"https://github.com/duckdb/duckdb-wasm/discussions",rel:"noreferrer"},"here"),".")),r.createElement(i,null,r.createElement("h2",{className:D},"TPC-H Benchmarks"),r.createElement("p",{className:U},"The biggest strength of DuckDB-Wasm is its capability to run complex analytical queries in the web browser or in isolated environments such as WebAssembly CDN Workers. In the past, these workloads have usually been pushed to more powerful database servers since the language Javascript is not well equipped to evaluate complex queries efficiently. Today, the WebAssembly MVP has landed in most browsers and serves as a herald for disruptive changes in this traditional client-server world. With WebAssembly, browsers are now capable to perform many tasks themselves which allows for more decentralized data processing."),r.createElement("p",{className:U},"TPC-H is a decision support benchmark that is commonly used to benchmark relational database systems. It contains 22 queries on 8 relations with a schema that can be found",r.createElement("a",{className:M,target:"_blank",href:"https://github.com/duckdb/duckdb/blob/master/tools/rest/frontend/images/tpch-schema.png",rel:"noreferrer"},"here"),". The benchmark can be resized using a single scale factor. A scale factor of 0.1 refers to approximately 100 MB of combined data. Most of the 22 queries in TPC-H go beyond simple scans or filters and introduce the additional challenge of general query optimization."),r.createElement("p",{className:U},"In the following benchmarks, we measure TPC-H queries at the scale factors 0.01, 0.1, 0.25 and 0.5. Sqljs is a WebAssembly version of SQLite and thus supports TPC-H out of the box. Lovefield only supports a custom SQL-like API but optimizes query plans internally. Yet, Lovefield does not support arithmetic operations and nested subqueries within the plan which makes it difficult to run some of the more complex TPC-H queries. Arquero only provides a DataFrame-like API without any upfront optimization. We therefore manually crafted the TPC-H queries in Arquero using the optimized plans produced by the optimizer of a relational database. We include these plans to present the interesting performance characteristics of Arquero and show that optimizing the plans by hand is usually",r.createElement("a",{className:M,target:"_blank",href:"https://github.com/duckdb/duckdb-wasm/blob/master/packages/benchmarks/src/system/arquero_benchmarks.ts",rel:"noreferrer"},"non-trivial"),"."),r.createElement(w,{className:j,data:u.benchmarks,scaleFactor:.5}),r.createElement(w,{className:j,data:u.benchmarks,scaleFactor:.25}),r.createElement(w,{className:j,data:u.benchmarks,scaleFactor:.1}),r.createElement(w,{className:j,data:u.benchmarks,scaleFactor:.01}),r.createElement("p",{className:U},"The benchmarks show that DuckDB-Wasm outperforms the competition by a factor of 10 - 100 on larger data sizes. They also show that this relative speedup shrinks on smaller scale factors. On scale factor 0.01 (10MB), all three alternatives are able to compete for a small subset of the queries. This is caused by the interface design of DuckDB-Wasm that always materializes input and output as Arrow IPC streams. If the query performs only very little work, the overhead through this serialization and copying can outweigh the increased processing efficiency.")),r.createElement(i,null,r.createElement("h2",{className:D},"Microbenchmarks"),r.createElement("p",{className:U},"TPC-H is unrealistically complex, you might say? We'd like to argue that the absence of more demanding analytical processing in the browser is rooted in the ingrained limitations of Javascript that were only lifted very recently. Nevertheless, we want to dedicate this section to a few less complex microbenchmarks that demonstrate pros and cons of the measured systems."),r.createElement("p",{className:U},"The following table lists seven microbenchmarks that were scaled at least three times. We observe consistently accross all of them that DuckDB-Wasm loses against libraries like Arquero if the data contains only 1000 rows. Tasks like adding up a single native integer array are simple enough that the overhead of the WebAssembly interaction will easily eat up any performance benefits. The situation becomes even worse in the regex microbenchmark since WebAssembly additionally has to pay for UTF-8/16 conversions. Sorting and Top-K on the other hand is an interesting case for WebAssembly since sorting fast is",r.createElement("a",{className:M,target:"_blank",href:"https://duckdb.org/2021/08/27/external-sorting.html",rel:"noreferrer"},"non-trivial"),"and arguably better implemented in C++. The last two benchmarks first filter very few integers of a small relation and then join them with either one or two additional slightly larger relations."),r.createElement(v,{className:"YrOyBisKLYQx3zFdjU6q",data:u.benchmarks}),r.createElement("p",{className:U},"These micro benchmarks show that there is also ",r.createElement("i",null,"no such thing as free lunch")," in the browser. We are paying for the increased processing efficiency in WebAssembly with a sightly less efficient evaluation on very small input. Our recommendation is therefore to use DuckDB-Wasm if you need SQL, the features or the raw speed on medium to large data sizes. Stick to existing frameworks if your dataset is very small or if your queries only contain simple scans and filters."))))}}),null))}),r.createElement(Er.AW,{path:"/vldb",element:r.createElement(Cr,null,r.createElement((function(e){var t=Rt(),n=Ct(),a=Nt(),o=r.useContext(At),i=mr(r.useState(!1),2),s=i[0],l=i[1],c=mr(r.useState({schemaEpoch:0,dataEpoch:0}),2),u=c[0],d=c[1],f=mr(r.useState({insertInterval:1,channelLatency:0,serverLatency:0,batchSize:2,windowSize:1}),2),m=f[0],h=f[1],b=r.useRef(new lr);r.useEffect((function(){t.resolving()||a(),null!=t.value&&null==n&&o()}),[t,n]);var p=r.useRef(!0);r.useEffect((function(){return function(){p.current=!1}}),[]),r.useEffect((function(){n&&!s&&dr(void 0,void 0,void 0,(function(){return fr(this,(function(e){switch(e.label){case 0:return[4,n.query("DROP TABLE IF EXISTS stock_pivot_table")];case 1:return e.sent(),[4,n.query("\n                CREATE TABLE stock_pivot_table (\n                    name VARCHAR NOT NULL,\n                    client VARCHAR NOT NULL,\n                    last_update TIMESTAMP NOT NULL,\n                    change DOUBLE NOT NULL,\n                    bid DOUBLE NOT NULL,\n                    ask DOUBLE NOT NULL,\n                    volume DOUBLE NOT NULL\n                )\n            ")];case 2:return e.sent(),l(!0),[2]}}))}))}),[n]);var _=r.useRef(!1),y=r.useRef(void 0),g=r.useCallback((function(){return dr(void 0,void 0,void 0,(function(){var e,t,r,a,o,i,l;return fr(this,(function(c){switch(c.label){case 0:return _.current?[2]:n&&s&&p.current?(_.current=!0,e=br[m.insertInterval],t=pr[m.channelLatency],r=_r[m.serverLatency],a=yr[m.batchSize],o=gr[m.windowSize],i=o/a*e,l=new z.iA([b.current.genBatch(a)]),[4,n.insertArrowTable(l,{name:"stock_pivot_table",create:!1})]):[2];case 1:return c.sent(),[4,n.query("\n            DELETE FROM stock_pivot_table\n            WHERE last_update < date_trunc('second', now() - INTERVAL ".concat(i," SECOND)\n        "))];case 2:return c.sent(),_.current=!1,p.current&&(d((function(e){return{schemaEpoch:e.schemaEpoch,dataEpoch:(e.dataEpoch||0)+1}})),y.current=setTimeout((function(){return g()}),1e3*(e+t+r))),[2]}}))}))}),[n,s,m]);if(r.useEffect((function(){n&&s&&(clearTimeout(y.current),setTimeout((function(){return g()}),0))}),[n,s,m]),null==n||!s)return r.createElement("div",{className:$n.table_page},r.createElement("div",{className:$n.grid_container}));var w=pr[m.channelLatency],v=_r[m.serverLatency];return r.createElement(Mn.W,{backend:Un.PD},r.createElement("div",{className:$n.table_page},r.createElement("div",{className:$n.demo_header_container},r.createElement("div",{className:$n.demo_setup},r.createElement("div",{className:$n.demo_setup_config},r.createElement(wr,{current:m.serverLatency,select:function(e){return h((function(t){return ur(ur({},t),{serverLatency:e})}))}}),r.createElement("div",{className:$n.level_label},"Server Latency"),r.createElement(wr,{current:m.channelLatency,select:function(e){return h((function(t){return ur(ur({},t),{channelLatency:e})}))}}),r.createElement("div",{className:$n.level_label},"Channel Latency"),r.createElement(wr,{current:m.insertInterval,select:function(e){return h((function(t){return ur(ur({},t),{insertInterval:e})}))}}),r.createElement("div",{className:$n.level_label},"Insert Interval"),r.createElement(wr,{current:m.batchSize,select:function(e){return h((function(t){return ur(ur({},t),{batchSize:e})}))}}),r.createElement("div",{className:$n.level_label},"Batch Size"),r.createElement(wr,{current:m.windowSize,select:function(e){return h((function(t){return ur(ur({},t),{windowSize:e})}))}}),r.createElement("div",{className:$n.level_label},"Window Size")),r.createElement("div",{className:$n.demo_setup_icon_container},r.createElement("svg",{className:$n.demo_setup_icon,width:"40px",height:"40px"},r.createElement("use",{xlinkHref:"".concat(qn,"#sym")}))),r.createElement("div",{className:$n.demo_setup_channel}),r.createElement("div",{className:$n.demo_setup_icon_container},r.createElement("svg",{className:$n.demo_setup_icon,width:"40px",height:"40px"},r.createElement("use",{xlinkHref:"".concat(cr,"#sym")}))),r.createElement("div",{className:$n.demo_setup_perf}),r.createElement("div",{className:$n.demo_setup_perf},Math.round(1e3*w)," ms"),r.createElement("div",{className:$n.demo_setup_perf},Math.round(1e3*v)," ms"))),r.createElement(jt.Provider,{value:u.schemaEpoch},r.createElement(Bt.Provider,{value:u.dataEpoch},r.createElement(Pn.Provider,{value:0},r.createElement(Ht,{name:"stock_pivot_table"},r.createElement(Zn,null)))))))}),null))}),r.createElement(Er.AW,{path:"*",element:r.createElement(Er.Fg,{to:"/"})}))))))),Ur)},2593:(e,t,n)=>{e.exports=n.p+"static/img/book.cee8d5e89b78252361aa.svg"},2073:(e,t,n)=>{e.exports=n.p+"static/img/check.db971e3b09b309d69a41.svg"},4734:(e,t,n)=>{e.exports=n.p+"static/img/close.eae292d876e449b1e891.svg"},4394:(e,t,n)=>{e.exports=n.p+"static/img/cloud.03db5d37455d84eba429.svg"},3200:(e,t,n)=>{e.exports=n.p+"static/img/pivot.8a0bc4e8dc0cc3174705.svg"},9643:(e,t,n)=>{e.exports=n.p+"static/img/shell.44adb131819504541d01.svg"},6513:(e,t,n)=>{e.exports=n.p+"static/img/duckdb.b70fb6c3629c5061da77.svg"},7991:(e,t,n)=>{e.exports=n.p+"static/wasm/shell_bg.f9c9cb6cdc362179f746.wasm"},6918:(e,t,n)=>{e.exports=n.p+"static/assets/duckdb-browser-coi.pthread.worker.ca73ba2df26fda3c21e0.js"},3664:(e,t,n)=>{e.exports=n.p+"static/assets/duckdb-browser-coi.worker.53a5b1e79e7e64e9a00c.js"},779:(e,t,n)=>{e.exports=n.p+"static/assets/duckdb-browser-eh.worker.64a91fc45d5c0d69a68d.js"},7379:(e,t,n)=>{e.exports=n.p+"static/assets/duckdb-browser-mvp.worker.4e08d255a258b5bea985.js"},9296:(e,t,n)=>{e.exports=n.p+"static/wasm/duckdb-coi.cbae9ab06324a9df9350.wasm"},6932:(e,t,n)=>{e.exports=n.p+"static/wasm/duckdb-eh.69e4148edf8ede288fc6.wasm"},8446:(e,t,n)=>{e.exports=n.p+"static/wasm/duckdb-mvp.5524bd9326a9e9621aec.wasm"}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,a,o]=e[u],s=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e+"../../"})(),(()=>{r.b=document.baseURI||self.location.href;var e={143:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[i,s,l]=n,c=0;if(i.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(l)var u=l(r)}for(t&&t(n);c<i.length;c++)o=i[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=self.webpackChunk_duckdb_duckdb_wasm_app=self.webpackChunk_duckdb_duckdb_wasm_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=r.O(void 0,[824],(()=>r(3562)));a=r.O(a)})();